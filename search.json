[{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://rwparsons.github.io/predictNMB/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://rwparsons.github.io/predictNMB/articles/creating-nmb-functions.html","id":"nmb-functions","dir":"Articles","previous_headings":"","what":"NMB functions","title":"Creating NMB functions","text":"important aspect predictNMB ’s ability evaluate simulated prediction models terms Net Monetary Benefit (NMB). , requires user create provide functions generate named vector NMB values assigned four possible classifications: TP: True Positives, correctly predicted events lead necessary treatment TN: True Negatives, correctly predicted non-events avoid unnecessary treatment FP: False Positives, incorrectly predicted positives lead unnecessary treatment FN: False Negatives, incorrectly predicted non-events lead lack necessary treatment vignette guide create functions hand well using helper function, get_nmb_sampler(). Firstly, starts key considerations user creating functions best reflect clinical context. last section show use created functions do_nmb_sim().","code":""},{"path":"https://rwparsons.github.io/predictNMB/articles/creating-nmb-functions.html","id":"key-considerations","dir":"Articles","previous_headings":"NMB functions","what":"Key considerations","title":"Creating NMB functions","text":"functions created used two purposes depending argument passed within do_nmb_sim()/screen_simulation_inputs(). arguments take functions : fx_nmb_training: ever used cost_minimising value_optimising cutpoint methods used. cutpoints aim maximise NMB therefore require best estimates NMB values assigned classification. fx_nmb_evaluation: used evaluation methods required run simulation. function generates named vector passed fx_nmb_evaluation argument re-evaluated every iteration simulation. allows us bake uncertainty since unlikely know costs exactly. mean NMB per patient evaluated end iteration according produced named vector summarised simulation using summary methods (see associated vignette using browseVignettes(package = \"predictNMB\")). important incorporate uncertainty function used fx_nmb_evaluation , usually, certain effectiveness interventions associated costs, uncertainty translated towards uncertainty summarise simulation uncertainty decision regarding best available method. Similarly, include uncertainty function function used fx_nmb_training, assuming able select cutpoint based exact costs intervention , reality, unlikely. may mean merit cost_minimising value_optimising cutpoint approach may overestimated. Since, practice, cutpoint prediction model likely selected based upon best possible evidence - best estimate costs effectiveness - function passed fx_nmb_training argument provide named vector every time, based best estimates include uncertainty. revisited last section using generated functions calling do_nmb_sim().","code":""},{"path":"https://rwparsons.github.io/predictNMB/articles/creating-nmb-functions.html","id":"making-functions-by-hand","dir":"Articles","previous_headings":"NMB functions","what":"Making functions by hand","title":"Creating NMB functions","text":"first section describes make hand. ’re particularly familiar R, may trickier follow subsequent section using get_nmb_sampler() may better place start. section introduces flexibility user can express creating functions may overkill use cases. example function provides appropriate output . Note NMB values possible classification equal less zero. frame around healthcare event, say inpatient falls, can assume model predicting inpatient falls categorised high risk model given intervention reduces rate impact falls. cost fall $4, cost intervention $1, intervention reduces rate falls 50%. possible classifications: \\(TP = -\\$1 - \\frac{\\$4}{2} = -\\$3\\) (receive intervention ($1) falls ($4) half rate (/2)) \\(FP = -\\$1\\) (receive intervention ($1) cost fall) \\(TN = \\$0\\) (receive intervention cost fall) \\(FN -\\$4\\) (intervention (full) cost fall ($4)) better flexibility. users can provide argument-less function form. allows ability incorporate uncertainty comes evaluating models (since may know exactly much fall may cost exactly well intervention work). example, function , incorporated uncertainty estimates use construct NMB values, every time call function get slightly different values assigned possible classification (except TN’s since cases, don’t receive treatment cost fall). (particularly important evaluation!) Another benefit user-defined function structure user can also allow low risk group receive intervention rather nothing. may make sense one available intervention use one costly (presumably effective) . way, can assign high risk patients receive high cost highly effective intervention low risk patients receive low cost less effective intervention. Extending foo2(), can create function , low cost intervention $0.5 reduces falls 30%. Now, since providing intervention associated cost categorised low risk, negative NMB assigned TN’s NMB FN’s negative since receiving (albeit less effective) intervention reduces cost fall.","code":"foo1 <- function() {   c(     \"TP\" = -3,     \"FP\" = -1,     \"TN\" = 0,     \"FN\" = -4   ) } foo1() #> TP FP TN FN  #> -3 -1  0 -4 foo2 <- function() {   intervention_cost <- rgamma(n = 1, shape = 1)   intervention_effectiveness <- rbeta(n = 1, shape1 = 10, shape2 = 10)   fall_cost <- rgamma(n = 1, shape = 4)    c(     \"TP\" = -intervention_cost - fall_cost * (1 - intervention_effectiveness),     \"FP\" = -intervention_cost,     \"TN\" = 0,     \"FN\" = -fall_cost   ) }  foo2() #>         TP         FP         TN         FN  #> -1.8104536 -0.6612191  0.0000000 -1.6393806 foo2() #>         TP         FP         TN         FN  #> -2.5673216 -0.9203729  0.0000000 -2.5858608 foo2() #>        TP        FP        TN        FN  #> -6.553803 -4.408866  0.000000 -5.676079 foo3 <- function() {   # intervention for high risk (hr) group   hr_intervention_cost <- rgamma(n = 1, shape = 1)   hr_intervention_effectiveness <- rbeta(n = 1, shape1 = 10, shape2 = 10)    # intervention for low risk (lr) group   lr_intervention_cost <- rgamma(n = 1, shape = 0.5 * 10, rate = 1 * 10)   lr_intervention_effectiveness <- rbeta(n = 1, shape1 = 10, shape2 = 30)     fall_cost <- rgamma(n = 1, shape = 4)    c(     \"TP\" = -hr_intervention_cost - fall_cost * (1 - hr_intervention_effectiveness),     \"FP\" = -hr_intervention_cost,     \"TN\" = -lr_intervention_cost,     \"FN\" = -lr_intervention_cost - fall_cost * (1 - lr_intervention_effectiveness)   ) }  foo3() #>         TP         FP         TN         FN  #> -3.8767146 -0.9936856 -0.6109546 -4.4166262 foo3() #>         TP         FP         TN         FN  #> -4.4297767 -3.8742692 -0.1801419 -1.0982919 foo3() #>         TP         FP         TN         FN  #> -2.0929678 -0.6587572 -0.5059659 -2.9129602"},{"path":"https://rwparsons.github.io/predictNMB/articles/creating-nmb-functions.html","id":"making-functions-using-get_nmb_sampler","dir":"Articles","previous_headings":"NMB functions","what":"Making functions using get_nmb_sampler()","title":"Creating NMB functions","text":"previous section demonstrates make functions hand general approach thinking intervention costs effects outcome. approach used get_nmb_sampler() abstracts actual creation function away make things straight forward user. replicate created foo1(), pass costs separate arguments function created output byget_nmb_sampler(). Recall: cost fall $4, cost intervention $1, intervention reduces rate falls 50%. arguments passed costs treatment effect (high_risk_group_treatment_effect) rate reduction event receiving treatment. (firstly, code making plots sampled NMB values given function) can incorporate uncertainty passing argument-less functions generate values arguments. calling get_nmb_sampler(), specify values argument-less functions evaluated every time returned function called.  can also create NMB function replicates scenario low-risk group given cheaper less effective intervention.  Something wasn’t covered previous section making NMB functions hand can specify cost outcome single value /calculated based quality-adjusted life-years (QALYs) lost due outcome willingness pay (WTP). inputs get_nmb_sampler() evaluates cost outcome total : outcome_cost: single value associated event wtp: willingness pay. multiplied qalys_lost evaluate cost associated event. qalys_lost: quality-adjusted life-years lost due event. multiplied wtp evaluate cost associated event. must provide either outcome_cost wtp qalys_lost. can also provide three , example, costs associated event fixed separate QALYs lost. example, following fall, every patient may X-ray, separate cost QALYs lost due fall WTP. example, WTP $8 fall associated 0.5 QALY lost (average), equivalent fixed cost $4. , separate arguments, lets us easier evaluate literature, may provide us estimates (uncertainty) QALY’s lost due healthcare event interest, WTP specific context.","code":"library(predictNMB)  foo1_remake <-   get_nmb_sampler(     outcome_cost = 4,     high_risk_group_treatment_cost = 1,     high_risk_group_treatment_effect = 0.5   )  foo1_remake() #> TP FP TN FN  #> -3 -1  0 -4 foo1() #> TP FP TN FN  #> -3 -1  0 -4 library(tidyr) library(ggplot2) plot_nmb_dist <- function(f, n = 10000) {   data <- do.call(\"rbind\", lapply(1:n, function(x) f()))    data_long <- pivot_longer(     as.data.frame(data),     cols = everything(),     names_to = \"classification\",     values_to = \"NMB\"   )    ggplot(data_long, aes(NMB)) +     geom_histogram() +     facet_wrap(~classification) +     theme_bw() +     labs(y = \"\", x = \"Net Monetary Benefit ($)\") } foo2_remake <-   get_nmb_sampler(     outcome_cost = function() rgamma(n = 1, shape = 4),     high_risk_group_treatment_cost = function() rgamma(n = 1, shape = 1),     high_risk_group_treatment_effect = function() rbeta(n = 1, shape1 = 10, shape2 = 10)   )  plot_nmb_dist(foo2_remake) + ggtitle(\"foo2_remake()\") #> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. plot_nmb_dist(foo2) + ggtitle(\"foo2()\") #> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. foo3_remake <-   get_nmb_sampler(     outcome_cost = function() rgamma(n = 1, shape = 4),     high_risk_group_treatment_cost = function() rgamma(n = 1, shape = 1),     high_risk_group_treatment_effect = function() rbeta(n = 1, shape1 = 10, shape2 = 10),     low_risk_group_treatment_cost = function() rgamma(n = 1, shape = 0.5 * 10, rate = 1 * 10),     low_risk_group_treatment_effect = function() rbeta(n = 1, shape1 = 10, shape2 = 30)   )  plot_nmb_dist(foo3_remake) + ggtitle(\"foo3_remake()\") #> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. plot_nmb_dist(foo3) + ggtitle(\"foo3()\") #> `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. foo4 <-   get_nmb_sampler(     wtp = 8,     qalys_lost = 0.5,     high_risk_group_treatment_cost = 1,     high_risk_group_treatment_effect = 0.5   )  foo4() #> TP FP TN FN  #> -3 -1  0 -4 foo1() #> TP FP TN FN  #> -3 -1  0 -4"},{"path":"https://rwparsons.github.io/predictNMB/articles/creating-nmb-functions.html","id":"passing-these-functions-to-do_nmb_sim","dir":"Articles","previous_headings":"NMB functions","what":"Passing these functions to do_nmb_sim()","title":"Creating NMB functions","text":"NMB functions passed do_nmb_sim() via fx_nmb_training fx_nmb_evaluation arguments. former purely selecting cutpoint ’re using either 'cost_minimising' 'value_optimising' cutpoint methods. , use 'value_optimising' cutpoint method alongside Youden index treat /none strategy. first example, pass foo1, function always provided values every classification, knew exact costs associated outcome possible prediction.  mentioned previously, problem don’t really know sure effective intervention , burden event , much things cost, incorporate uncertainty evaluation part . use NMB function incorporates uncertainty selecting cutpoint, reflect us picking costs randomly using data select cutpoint, unlikely. Instead, use function provides fixed values training still. get_nmb_sampler() offers feature get fixed (expected) values sampling distributions using column means fixed values. example, using foo2_remake() example, use get_nmb_sampler() way include use_expected_values = TRUE returns function gives fixed values training: many cases (including one), give similar values using parameter estimates inputs (similar foo1()), always, expect values process stable using estimates.  drastically changed results. probably uncertainty functions likely using values literature case, illustrates importance incorporating conducting simulation.","code":"simulation_res1 <- do_nmb_sim(   sample_size = 200, n_sims = 500, n_valid = 10000, sim_auc = 0.7,   event_rate = 0.1, fx_nmb_training = foo1, fx_nmb_evaluation = foo1,   cutpoint_methods = c(\"all\", \"none\", \"youden\", \"value_optimising\") )  plot(simulation_res1) foo2_remake <-   get_nmb_sampler(     outcome_cost = function() rgamma(n = 1, shape = 4),     high_risk_group_treatment_cost = function() rgamma(n = 1, shape = 1),     high_risk_group_treatment_effect = function() rbeta(n = 1, shape1 = 10, shape2 = 10)   )  foo2_remake_training <-   get_nmb_sampler(     outcome_cost = function() rgamma(n = 1, shape = 4),     high_risk_group_treatment_cost = function() rgamma(n = 1, shape = 1),     high_risk_group_treatment_effect = function() rbeta(n = 1, shape1 = 10, shape2 = 10),     use_expected_values = TRUE   )  foo2_remake_training() #>        TP        FP        TN        FN  #> -2.994912 -1.001192  0.000000 -3.985059 foo2_remake_training() #>        TP        FP        TN        FN  #> -2.994912 -1.001192  0.000000 -3.985059 foo2_remake_training() #>        TP        FP        TN        FN  #> -2.994912 -1.001192  0.000000 -3.985059 simulation_res2 <- do_nmb_sim(   sample_size = 200, n_sims = 500, n_valid = 10000, sim_auc = 0.7,   event_rate = 0.1, fx_nmb_training = foo2_remake_training, fx_nmb_evaluation = foo2_remake,   cutpoint_methods = c(\"all\", \"none\", \"youden\", \"value_optimising\") )  plot(simulation_res2)"},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"predictnmb","dir":"Articles","previous_headings":"","what":"{predictNMB}","title":"Introduction to predictNMB","text":"predictNMB can used evaluate existing hypothetical clinical prediction models based Net Monetary Benefit (NMB). can relevant prognostic diagnostic models cutpoint (AKA, probability threshold) used generate predicted classes rather probabilities. often beneficial clinical settings present user predicted probability, may helpful certain cases simulate effect decision arising probability. example, hospital setting, user might want specify probability threshold clinical prediction model best practice suggests treatment non-treatment default strategy. weighing NMB decisions, users can assess impact model suggested threshold prior implementation. predictNMB born related work investigates cutpoint selection methods maximise NMB, includes several options inbuilt user-specified cutpoint selection functions.","code":"library(predictNMB) library(parallel) set.seed(42)"},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"whats-being-simulated","dir":"Articles","previous_headings":"{predictNMB}","what":"What’s being simulated?","title":"Introduction to predictNMB","text":"do_nmb_sim() run, many datasets created, models fit evaluated based NMB. evaluate NMB, user required specify functions define square confusion matrix, arises binary classification: TP: True Positives, correctly predicted events lead necessary treatment TN: True Negatives, correctly predicted non-events avoid unnecessary treatment FP: False Positives, incorrectly predicted positives lead unnecessary treatment FN: False Negatives, incorrectly predicted non-events lead lack necessary treatment presented function can repeatedly sample get uncertainty estimates. might want sample distribution uncertain parameters (example, TP FN) use constants parameters certain (, TN FP). function returns vector representing square matrix called.","code":""},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"example-function","dir":"Articles","previous_headings":"{predictNMB} > What’s being simulated?","what":"Example function","title":"Introduction to predictNMB","text":"Every time run function, get new named vector NMB associated prediction. can inform distributions sample based literature specific clinical prediction model hand. See examples end -depth example based literature. Since expect use best estimates, case expected value NMB associated prediction actual model (take random sample underlying distributions), make separate function purpose obtaining cutpoint, separately one used () evaluate . inputs can passed screen_simulation_inputs() parameters fx_nmb_training fx_nmb_evaluation, evaluated simulation.","code":"get_nmb_sampler <- function() {   c(     \"TP\" = rnorm(n = 1, mean = -80, sd = 5),     \"TN\" = 0,     \"FP\" = -20,     \"FN\" = rnorm(n = 1, mean = -100, sd = 10)   ) }  get_nmb_sampler() #>         TP         TN         FP         FN  #>  -73.14521    0.00000  -20.00000 -105.64698 get_nmb_sampler() #>        TP        TN        FP        FN  #> -78.18436   0.00000 -20.00000 -93.67137 get_nmb_sampler() #>         TP         TN         FP         FN  #>  -77.97866    0.00000  -20.00000 -101.06125 get_nmb_sampler_training <- function() {   c(     \"TP\" = -80,     \"TN\" = 0,     \"FP\" = -20,     \"FN\" = -100   ) } get_nmb_sampler_training() #>   TP   TN   FP   FN  #>  -80    0  -20 -100"},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"do_nmb_sim","dir":"Articles","previous_headings":"","what":"do_nmb_sim()","title":"Introduction to predictNMB","text":"do_nmb_sim() single simulation set inputs hypothetical model NMB related functions. model, need know sample size training evaluation sets, model’s discrimination (Area Receiver Operating Characteristic Curve, also known Area Curve, AUC) event rate outcome predicted. can call simulation outputs like NMB cutpoints directly simulation object, choose strategies examine using list. useful examine histograms get summary values. example, current default strategy might treat , setting probability threshold treatment 0:  options include multiple cutpoint methods, default use available inbuilt methods well treat-treat-none strategies. simulation various cutpoints can visualised using plot(). default visualise distributions NMB across (500) simulations. plot , spread (light blue) shows variability results due repeated simulation. median represented dark blue line centre distribution.  Treating looks like bad option . rest relatively similar AUC event rate, edge treat none thresholds using value optimisation cost minimisation. However, can also use function visualise cutpoints incremental net monetary benefit (INB) known reference strategy, case treat-:  Compared treat-, every alternative looks better, treating none using value-optimising/cost-minimising look best. can compare NMB cutpoint method, , accessing object directly: … selected cutpoints:","code":"nmb_simulation <- do_nmb_sim(   sample_size = 1000,   n_sims = 500,   n_valid = 10000,   sim_auc = 0.7,   event_rate = 0.1,   fx_nmb_training = get_nmb_sampler_training,   fx_nmb_evaluation = get_nmb_sampler )  nmb_simulation #> predictNMB object #>  #> Training data sample size:  1000 #> Minimum number of events in training sample:  100 #> Evaluation data sample size:  10000 #> Number of simulations:  500 #> Simulated AUC:  0.7 #> Simulated event rate:  0.1 hist(nmb_simulation$df_result$all, main = \"Simulation results - treat all\", xlab = \"Net monetary benefit (NMB)\") summary(nmb_simulation$df_result$all) #>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.  #>  -27.87  -26.39  -25.99  -26.02  -25.66  -24.41 get_inbuilt_cutpoint(return_all_methods = TRUE) #> [1] \"all\"              \"none\"             \"value_optimising\" \"youden\"           #> [5] \"cost_minimising\"  \"prod_sens_spec\"   \"roc01\"            \"index_of_union\" plot(nmb_simulation) plot(nmb_simulation, what = \"cutpoints\") plot(nmb_simulation, what = \"inb\", inb_ref_col = \"all\") head(nmb_simulation$df_result) #>   n_sim       all       none value_optimising    youden cost_minimising #> 1     1 -25.08691  -9.791819        -9.791819 -14.56210       -9.790418 #> 2     2 -25.16047 -10.404846       -10.432962 -14.84745      -10.398127 #> 3     3 -25.37430  -7.751921        -7.863095 -11.30976       -7.760092 #> 4     4 -27.12287 -10.936631       -10.933125 -15.15321      -10.931125 #> 5     5 -26.13946  -9.476418        -9.475121 -15.19484       -9.476418 #> 6     6 -26.12984 -12.631143       -12.586456 -19.13756      -12.621600 #>   prod_sens_spec     roc01 index_of_union #> 1      -14.56210 -13.49478      -13.49478 #> 2      -14.84745 -14.84745      -14.84745 #> 3      -11.30976 -13.65652      -13.65652 #> 4      -15.15321 -15.15321      -15.15321 #> 5      -15.19484 -15.19484      -15.19484 #> 6      -16.29397 -16.29397      -16.13769 head(nmb_simulation$df_thresholds) #>   n_sim all none value_optimising     youden cost_minimising prod_sens_spec #> 1     1   0    1        1.0000000 0.09641938             0.5     0.09641938 #> 2     2   0    1        0.3627289 0.10026226             0.5     0.10026226 #> 3     3   0    1        0.3579602 0.13212194             0.5     0.13212194 #> 4     4   0    1        0.4854135 0.09627723             0.5     0.09627723 #> 5     5   0    1        0.3615890 0.11192980             0.5     0.11192980 #> 6     6   0    1        0.4265252 0.07235760             0.5     0.09989894 #>        roc01 index_of_union #> 1 0.11099649     0.11099649 #> 2 0.10026226     0.10026226 #> 3 0.09857486     0.09857486 #> 4 0.09627723     0.09627723 #> 5 0.11192980     0.11192980 #> 6 0.09989894     0.10231104"},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"screen_simulation_inputs","dir":"Articles","previous_headings":"","what":"screen_simulation_inputs()","title":"Introduction to predictNMB","text":"may want investigate relative improvement NMB increasing model performance (AUC) compare treat treat none strategy. following function assesses required performance model outperform default strategy treat treat none. example, cutpoints selected using Youden index cost-effectiveness approach, maximises NMB. , can screen many simulations different inputs using screen_simulation_inputs(). function takes inputs do_nmb_sim() can take vector inputs rather single value. , pass vectors sim_auc event_rate. , run simulations parallel creating cluster passing argument. can also done do_nmb_sim() way. can take time - fewer cores used, longer takes. details running parallel, see parallel package. can see , hypothetical costed outcome, classification model cutpoint selected maximising Youden index -performs treat-none strategy model AUC 0.9. pretty high, may better model expect able get. Also, event rate 0.1, rather 0.2, able match treat-none strategy model AUC 0.95.","code":"cl <- makeCluster(detectCores()) sim_screen_obj <- screen_simulation_inputs(   n_sims = 500,   n_valid = 10000,   sim_auc = seq(0.7, 0.95, 0.05),   event_rate = c(0.1, 0.2),   fx_nmb_training = get_nmb_sampler_training,   fx_nmb_evaluation = get_nmb_sampler,   cutpoint_methods = c(\"all\", \"none\", \"youden\", \"value_optimising\"),   cl = cl ) stopCluster(cl) plot(sim_screen_obj, x_axis_var = \"sim_auc\", constants = c(event_rate = 0.2)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.2 plot(sim_screen_obj, x_axis_var = \"sim_auc\", constants = c(event_rate = 0.1)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.1"},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"detailed-example","dir":"Articles","previous_headings":"","what":"Detailed example","title":"Introduction to predictNMB","text":"Economic analysis typically combines information variety sources, including randomised controlled trials, costing studies, local data. advantage simulation can estimate utility proposed intervention prior implementation. example, simulate decision process hospital analyst Australian hospital high rate pressure injuries, also known pressure ulcers. Pressure ulcers significant adverse events patients, often leading additional discomfort, prolonged length hospital stay, increased costs. hospital currently pressure ulcer prevention program place, analyst examining whether implement clinical prediction model identify patients may benefit program potentially save costs. Let’s begin generating realistic costs probabilities. Keep mind, trying avoid negative event, net monetary benefit every strategy going negative. economic parlance, costs typically negative, cost savings positive. also interested improving quality life, estimate quality-adjusted life years (QALYs), multiply willingness--pay threshold (WTP), add gain loss true positive false negative squares signify impact patient. simplicity’s sake, let’s say ’re interested hospital costs. Model inputs:  - Mean incremental cost per pressure injury: $8,000 (SD 550)  - Per-patient cost pressure ulcer prevention strategy (PUP): $140 (SD 20)  - Odds ratio pressure ulcer intervention compared non-intervention: 0.96 (SD 0.03)  - AUC: 0.820 (SD 0.02)  - Hypothetical hospital pressure injury incidence/event rate: 0.1 (SD 0.02) inputs, can populate confusion matrix (2x2 table), helps us understand outcomes resulting correct incorrect predictions.","code":""},{"path":"https://rwparsons.github.io/predictNMB/articles/introduction-to-predictNMB.html","id":"model-inputs","dir":"Articles","previous_headings":"Detailed example","what":"Model inputs","title":"Introduction to predictNMB","text":"First, need define NMB function, provides data simulation. case, intervention associated 4% reduction odds pressure ulcer, ’s moderately effective reducing chance pressure injury. can use probability-weighted cost savings successful prevention, 8000*(0.96) = small improvement around $320. including $140 program costs, net benefit around $180 successfully prevented pressure ulcer. AUC 0.820, essentially proportion random positive samples received higher probability injury random negative samples (vice versa). useful property AUC matter probability threshold use. case, AUC 0.820 means model assign higher probabilities pressure ulcer around 82% patients go develop one compared patients don’t. first pass, want see current values affect estimated NMB model implementation. just use best guesses now, rigorous simulation, want use Monte Carlo methods sample input distributions.   first pass shows based inputs ’ve given simulation model, treating bad option, outperformed every method (reference strategy, treat NMB 0). Treat none looks like good choice; definitely consider scrapping program looking something else costs less provides better results. However, doesn’t tell full story. may incremental benefit using model select patients depending input values change, median value-optimising cost-minimising strategies higher treating none. intervention might worth using, highest risk patients. Results ROC-based methods like Youden index index union quite uncertain, may want use input parameters. However, utility models threshold selection methods based ROC might improve get accurate, event rate increases; really want know robust results changes input parameters. purpose screen_simulation_inputs(). can simulate distribution cost inputs, can pass vector AUC incidence arguments understand impact findings. First, let’s specify sampler function confusion matrix. can replace inputs normal distributions, values means. Make sure pass distribution definitions within function resampled every simulation, pull value patient. sampler function shows can expect significant variation, especially due probability intervention effective. ’s always possible intervention lead worse patient outcomes. case, true positives actually worse false negatives! also check whether changing inputs can lead different results. Perhaps authors clinical prediction model want use reported misleading AUC implement model turns lower, perhaps pressure ulcer rate wards actually quite different average incidence hospital. replacing sim_auc event_rate arguments vectors, can run simulations possible combination interested . snippet , compare treat strategy scrapping program altogether (“none”) couple alternative strategies, using “value_optimising” “youden” thresholds. can also parallel speed things . can see results event rate increases, treatment decisions based model, like Youden index, begin look better, still marginal gains using prediction model regardless threshold. might program beneficial mostly settings patients high risk. event rates 0.02, 0.10 0.18 corresponded different wards hospital, simulation represent estimated effectiveness different strategies setting. can also represent results visually.     nice thing cost-effectiveness function tends follow best threshold, regardless AUC event rate. case, tends follow treat none decision moves across, strategies treat none cost-effective overlap plots. can also see Youden index begins look better higher accuracy higher incidence rates, predicting patients get pressure ulcer challenging. Ultimately given AUC event rate, might best stop using intervention time across patients. actually finding analysis vignette based , cost-effectiveness analysis pressure ulcer prevention care bundle Whitty et al 2017 (10.1016/j.ijnurstu.2017.06.014).","code":"fx_nmb <- function() {   cost_of_pi <- 8000   eff_pup <- 0.96   cost_pup <- 140   c(     \"TP\" = -cost_of_pi*eff_pup - cost_pup, # True positive = Correctly predicted event savings - intervention cost     \"FP\" = -cost_pup,                      # False positive: Cost of (unnecessary) treatment from incorrectly predicted positive     \"TN\" = 0,                              # True negative: No cost of treatment or event from correctly predicted negative     \"FN\" = -cost_of_pi                     # False negative: Full cost of event from incorrectly predicted negative   ) }  fx_nmb() #>    TP    FP    TN    FN  #> -7820  -140     0 -8000 nmb_simulation <- do_nmb_sim(   sample_size = 1000,         # Evaluating a theoretical cohort of 1,000 patients   n_sims = 500,               # The larger the number of samples, the longer it takes to run, but the more reproducible the results   n_valid = 10000,            # Number of times the NMB is evaluated under each cutpoint   sim_auc = 0.820,            # The AUC of our proposed model   event_rate = 0.1,           # The incidence of pressure ulcers at our hypothetical hospital   fx_nmb_training = fx_nmb,   # As a first pass, we will just use our confusion matrix vector above for training and evaluation   fx_nmb_evaluation = fx_nmb )  nmb_simulation #> predictNMB object #>  #> Training data sample size:  1000 #> Minimum number of events in training sample:  100 #> Evaluation data sample size:  10000 #> Number of simulations:  500 #> Simulated AUC:  0.82 #> Simulated event rate:  0.1  make_summary_table(nmb_simulation)                      # Get the mean incremental NMB for each threshold selection method #> # A tibble: 8 × 3 #>   method           median `95% CI`           #>   <chr>             <dbl> <chr>              #> 1 all               -908  -953.35 to -862.65 #> 2 cost_minimising   -799. -845.13 to -751.67 #> 3 index_of_union    -818. -866.22 to -770.05 #> 4 none              -800  -847.24 to -752.76 #> 5 prod_sens_spec    -819. -865.72 to -770.37 #> 6 roc01             -817. -866.22 to -770.12 #> 7 value_optimising  -799. -845.02 to -752.02 #> 8 youden            -820. -872.62 to -769.95  plot(nmb_simulation, what = \"cutpoints\")                # Demonstrates the range of selected cutpoints under each method plot(nmb_simulation, what = \"inb\", inb_ref_col = \"all\") # Compares the incremental benefit of each alternate strategy to our current practice (treat all) fx_nmb_sampler <- function() {   cost_of_pi <- rnorm(n = 1, mean = 8000, sd = 550)   eff_pup <- rnorm(n = 1, mean = 0.04, sd = 0.03)   cost_pup <- rnorm(n = 1, mean = 140, sd = 20)   c(     \"TP\" = -cost_of_pi*(1-eff_pup) - cost_pup,     \"FP\" = -cost_pup,     \"TN\" = 0,     \"FN\" = -cost_of_pi   ) }  fx_nmb_sampler() #>         TP         FP         TN         FN  #> -7042.5122  -133.3547     0.0000 -7385.5877 fx_nmb_sampler() #>         TP         FP         TN         FN  #> -7556.6643  -126.0965     0.0000 -7656.1310 fx_nmb_sampler() #>        TP        FP        TN        FN  #> -8464.225  -155.367     0.000 -8405.697 cl <- makeCluster(2) sim_pup_screen <- screen_simulation_inputs(   n_sims = 500,   n_valid = 10000,   sim_auc = seq(0.72, 0.92, 0.05),   event_rate = c(0.02, 0.1, 0.18),   cutpoint_methods = c(\"all\", \"none\", \"value_optimising\", \"youden\"),   fx_nmb_training = fx_nmb,   fx_nmb_evaluation = fx_nmb_sampler,   cl = cl ) stopCluster(cl)  make_summary_table(sim_pup_screen) #>    sim_auc event_rate all_median           all_95% CI none_median #> 1     0.72       0.02  -294.0098    -343.05 to -241.5   -159.0951 #> 2     0.72       0.10  -907.0494  -1033.11 to -792.59   -799.9717 #> 3     0.72       0.18 -1519.1501 -1734.56 to -1328.19  -1446.2625 #> 4     0.77       0.02  -290.6816   -346.03 to -246.65   -160.2028 #> 5     0.77       0.10  -905.2370  -1048.89 to -779.64   -798.3858 #> 6     0.77       0.18 -1510.7080 -1737.94 to -1286.17  -1431.6430 #> 7     0.82       0.02  -293.0441   -347.52 to -243.83   -159.8185 #> 8     0.82       0.10  -910.3898  -1048.36 to -783.76   -803.0191 #> 9     0.82       0.18 -1517.0059 -1767.73 to -1308.84  -1435.3583 #> 10    0.87       0.02  -293.4287   -343.71 to -248.94   -159.5600 #> 11    0.87       0.10  -906.5400  -1033.83 to -778.96   -798.7997 #> 12    0.87       0.18 -1525.6414 -1741.33 to -1286.46  -1439.2603 #> 13    0.92       0.02  -291.5793   -334.54 to -247.79   -158.3857 #> 14    0.92       0.10  -904.7667    -1041.7 to -785.3   -802.5538 #> 15    0.92       0.18 -1520.0207  -1736.5 to -1316.22  -1438.2223 #>             none_95% CI value_optimising_median value_optimising_95% CI #> 1    -190.67 to -128.74               -159.2508       -192.6 to -128.74 #> 2    -921.86 to -685.62               -800.9776      -923.16 to -685.81 #> 3  -1653.09 to -1245.56              -1446.9537    -1644.87 to -1242.31 #> 4       -190.34 to -130               -160.4644      -191.43 to -130.05 #> 5    -922.32 to -686.45               -798.9079      -920.53 to -683.85 #> 6  -1629.54 to -1223.59              -1426.4185     -1621.52 to -1220.1 #> 7    -189.69 to -129.13               -160.1441       -191.02 to -129.5 #> 8    -921.98 to -687.56               -801.9826      -919.38 to -686.88 #> 9   -1675.3 to -1242.08              -1432.1946     -1663.3 to -1235.91 #> 10   -193.77 to -133.37               -159.6661      -194.38 to -133.45 #> 11   -918.82 to -694.69               -796.3212       -912.61 to -692.2 #> 12 -1627.28 to -1235.42              -1431.9797    -1632.74 to -1220.97 #> 13   -191.63 to -130.65               -158.4652      -191.83 to -130.52 #> 14   -932.98 to -689.77               -796.0005      -924.51 to -689.06 #> 15 -1631.21 to -1248.92              -1423.3079    -1611.05 to -1229.27 #>    youden_median        youden_95% CI #> 1      -200.7229    -254.2 to -155.01 #> 2      -830.2228   -961.37 to -710.18 #> 3     -1459.3749 -1664.66 to -1268.89 #> 4      -194.1191    -250.88 to -149.7 #> 5      -825.5715   -961.49 to -700.89 #> 6     -1444.7984    -1650.62 to -1228 #> 7      -188.1966    -240.9 to -144.08 #> 8      -820.2371    -950.7 to -705.15 #> 9     -1440.7861 -1682.18 to -1242.28 #> 10     -182.1017   -234.75 to -145.36 #> 11     -808.7998      -940 to -702.21 #> 12    -1442.5000 -1645.46 to -1218.62 #> 13     -172.1057    -217.5 to -138.72 #> 14     -801.7241    -931.67 to -690.8 #> 15    -1429.0024  -1632.34 to -1232.6 plot(sim_pup_screen, x_axis_var = \"sim_auc\", constants = c(event_rate = 0.02)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.02 plot(sim_pup_screen, x_axis_var = \"sim_auc\", constants = c(event_rate = 0.10)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.1 plot(sim_pup_screen, x_axis_var = \"sim_auc\", constants = c(event_rate = 0.18)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.18 plot(sim_pup_screen, x_axis_var = \"event_rate\") #>  #>  #> Varying simulation inputs, other than event_rate, are being held constant: #> sim_auc: 0.72"},{"path":[]},{"path":[]},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"choosing-the-x-axis-variable-and-other-constants","dir":"Articles","previous_headings":"Making plots with predictNMB > Plotting the results from screen_simulation_inputs()","what":"Choosing the x-axis variable and other constants","title":"Summarising results from predictNMB","text":"simulation screen, vary event rate model discrimination (sim_AUC). many ways visualise data. plot() function allows us make basic plots compare impact different cutpoint methods Net Monetary Benefit (NMB) another variable choice. case, can visualise impact NMB different methods across varying levels sim_auc event_rate. control x_axis_var argument.   plots, one screened inputs x-axis variable, displayed single level. default setting assume first level, visualise change NMB specifying sim_auc x-axis variable, observe case event_rate = 0.1. can choose select another level constants argument. argument expects named list containing values keep screened inputs shown x-axis.   see change plot well message produced plot made.","code":"plot(sim_screen_obj, x_axis_var = \"sim_auc\") #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.1 plot(sim_screen_obj, x_axis_var = \"event_rate\") #>  #>  #> Varying simulation inputs, other than event_rate, are being held constant: #> sim_auc: 0.7 plot(sim_screen_obj, x_axis_var = \"sim_auc\", constants = list(event_rate = 0.1)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.1 plot(sim_screen_obj, x_axis_var = \"sim_auc\", constants = list(event_rate = 0.2)) #>  #>  #> Varying simulation inputs, other than sim_auc, are being held constant: #> event_rate: 0.2"},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"choosing-a-y-axis-variable","dir":"Articles","previous_headings":"Making plots with predictNMB > Plotting the results from screen_simulation_inputs()","what":"Choosing a y-axis variable","title":"Summarising results from predictNMB","text":"three options y-axis. default NMB, can also visualise Incremental Net Monetary Benefit (INB) selected cutpoints. controlled argument, can c(\"nmb\", \"inb\", \"cutpoints\"). vector used, first value selected. choose visualise INB, must list chosen reference strategy calculation inb_ref_col. case, use treat (\"\").","code":"plot(sim_screen_obj, what = \"nmb\") plot(sim_screen_obj, what = \"inb\", inb_ref_col = \"all\") plot(sim_screen_obj, what = \"cutpoints\")"},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"selecting-what-to-show-on-the-plot","dir":"Articles","previous_headings":"Making plots with predictNMB > Plotting the results from screen_simulation_inputs()","what":"Selecting what to show on the plot","title":"Summarising results from predictNMB","text":"plots show median (dot), 95% confidence interval (thick vertical lines), range (thin vertical lines), lines points default. can shown hidden independently, width confidence interval can controlled using ci argument.","code":"plot(sim_screen_obj) plot(sim_screen_obj, plot_range = FALSE) plot(sim_screen_obj, plot_ci = FALSE) plot(sim_screen_obj, plot_ci = FALSE, plot_range = FALSE) plot(sim_screen_obj, plot_ci = FALSE, plot_range = FALSE, plot_line = FALSE)"},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"other-plot-modifications","dir":"Articles","previous_headings":"Making plots with predictNMB > Plotting the results from screen_simulation_inputs()","what":"Other plot modifications","title":"Summarising results from predictNMB","text":"Currently, lines dots overlap. can use dodge_width apply horizontal dodge layers.   cutpoint methods can renamed removed. rename , pass named vector rename_vector argument. names vector new names values names wish replace.   can reorder methods passing order methods_order argument. Also note remove methods aren’t included, factor names renamed . , renaming re-ordering, must provide updated names order :    transparency layers can controlled plot_alpha.","code":"plot(sim_screen_obj) plot(sim_screen_obj, dodge_width = 0.01) plot(sim_screen_obj) plot(   sim_screen_obj,    rename_vector = c(\"Treat All\" = \"all\", \"Treat None\" = \"none\", \"Youden Index\" = \"youden\", \"Value Optimisation\" = \"value_optimising\") ) plot(sim_screen_obj) plot(sim_screen_obj, methods_order = c(\"all\", \"none\")) plot(   sim_screen_obj,   rename_vector = c(\"Treat All\" = \"all\", \"Treat None\" = \"none\"), #Assign new names to the two methods of interest    methods_order = c(\"Treat All\", \"Treat None\")                   #Call the methods by their new names ) plot(sim_screen_obj) plot(sim_screen_obj, plot_alpha = 0.2) plot(sim_screen_obj, plot_alpha = 1)"},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"plotting-the-results-from-do_nmb_sim","dir":"Articles","previous_headings":"Making plots with predictNMB","what":"Plotting the results from do_nmb_sim()","title":"Summarising results from predictNMB","text":"Many arguments used can used object returned do_nmb_sim() plots show results single simulation compare available cutpoints.  y-axis variable names orders methods can controlled way previously:    plots display median solid bar, grey part distributions outer 5% simulated values light blue region 95% CI. methods select thresholds based values 2x2 table, value-optimising thresholds, may look little strange cutpoints highly variable. can stabilised simulations. fill colours histogram controlled fill_cols line median controlled median_line_col. thickness median line controlled median_line_size ’s transparency median_line_alpha.  n_bins argument controls number bins used histograms label_wrap_width number characters start new line facet labels. can handy using detailed names methods font label relatively large compared plot, though space needed determine split label. width confidence intervals can also controlled ci argument plot() call.  default additional theme applied facets bring closer . Replace extra_theme NULL revert default behaviour, use theme .","code":"do_nmb_sim_obj <- do_nmb_sim(   n_sims = 500,   n_valid = 10000,   sim_auc = 0.7,   event_rate = 0.1,   fx_nmb_training = get_nmb_sampler_training,   fx_nmb_evaluation = get_nmb_sampler_evaluation,   cutpoint_methods = c(\"all\", \"none\", \"youden\", \"value_optimising\") ) plot(do_nmb_sim_obj) plot(do_nmb_sim_obj, what = \"nmb\") plot(   do_nmb_sim_obj,    what = \"inb\",    inb_ref_col = \"all\",    rename_vector = c(\"Value-Optimising\" = \"value_optimising\",                      \"Treat-None\" = \"none\",                     \"Youden Index\" = \"youden\") ) plot(   do_nmb_sim_obj,    what = \"cutpoints\",    methods_order = c(\"all\", \"none\", \"youden\", \"value_optimising\") ) plot(   do_nmb_sim_obj,    fill_cols = c(\"red\", \"blue\"),    median_line_col = \"yellow\",   median_line_alpha = 1,   median_line_size = 0.9 ) plot(   do_nmb_sim_obj,   n_bins = 15,   rename_vector = c(\"Value- Optimising\" = \"value_optimising\",                      \"Treat- None\" = \"none\",                     \"Treat- All\" = \"all\",                     \"Youden Index\" = \"youden\"),   label_wrap_width = 12,   ci = 0.8 ) plot(do_nmb_sim_obj, extra_theme = NULL) plot(   do_nmb_sim_obj,    extra_theme = theme(     panel.spacing = unit(0, \"lines\"),     axis.text.x = element_blank(),     strip.background = element_rect(fill = \"red\")   ) )"},{"path":"https://rwparsons.github.io/predictNMB/articles/summarising-results-with-predictNMB.html","id":"making-tables-with-predictnmb","dir":"Articles","previous_headings":"","what":"Making tables with predictNMB","title":"Summarising results from predictNMB","text":"make tables objects used plots, instead use make_summary_table(). can applied either type results (screen_simulation_inputs() do_nmb_sim()). Using %>% operator, compatible knitr function kable(), simple table generator. default, methods aggregated median 95% confidence intervals. default list functions passed make_summary_table() agg_functions argument. can changed functions aggregate numeric vector. rename_vector arguments work way using plot(). summary table contains outputs do_nmb_sim() screen_simulation_inputs(), arranged slightly differently. row screen inputs object unique set inputs. default, trimmed include inputs vary function call - , sim_auc event_rate - using show_full_inputs argument. default, inputs vary shown. However, can set show_full_inputs = TRUE see .","code":"make_summary_table(sim_screen_obj) make_summary_table(do_nmb_sim_obj) make_summary_table(   do_nmb_sim_obj,    agg_functions = list(\"mean\" = mean, \"min\" = min, \"max\" = max) ) make_summary_table(   do_nmb_sim_obj,    what = \"inb\",   inb_ref_col = \"all\",   rename_vector = c(\"Value-Optimising\" = \"value_optimising\",                      \"Treat-None\" = \"none\",                     \"Youden Index\" = \"youden\") ) make_summary_table(sim_screen_obj) make_summary_table(sim_screen_obj, show_full_inputs = TRUE)"},{"path":"https://rwparsons.github.io/predictNMB/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rex Parsons. Author, maintainer. Robin Blythe. Author. Adrian Barnett. Author. Susanna Cramb. Contributor. Steve McPhail. Contributor.","code":""},{"path":"https://rwparsons.github.io/predictNMB/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Parsons R, Blythe R, Barnett (2022). predictNMB: Evaluate Clinical Prediction Models Net Monetary Benefit. R package version 0.0.0.9000, https://rwparsons.github.io/predictNMB/.","code":"@Manual{,   title = {predictNMB: Evaluate Clinical Prediction Models by Net Monetary Benefit},   author = {Rex Parsons and Robin Blythe and Adrian Barnett},   year = {2022},   note = {R package version 0.0.0.9000},   url = {https://rwparsons.github.io/predictNMB/}, }"},{"path":[]},{"path":"https://rwparsons.github.io/predictNMB/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Evaluate Clinical Prediction Models by Net Monetary Benefit","text":"predictNMB tool evaluate clinical prediction models based estimated Net Monetary Benefit (NMB). predictNMB two main functions: do_nmb_sim(): takes user defined inputs given prediction model population, evaluates NMB performing simulations. screen_simulation_inputs(): calls do_nmb_sim() many times, using range values inputs. useful sensitivity analysis.","code":""},{"path":"https://rwparsons.github.io/predictNMB/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Evaluate Clinical Prediction Models by Net Monetary Benefit","text":"can install development version predictNMB GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"RWParsons/predictNMB\")"},{"path":"https://rwparsons.github.io/predictNMB/index.html","id":"estimating-model-cutpoints","dir":"","previous_headings":"","what":"Estimating model cutpoints","title":"Evaluate Clinical Prediction Models by Net Monetary Benefit","text":"must first define hypothetical NMB associated square confusion matrix (2x2 table). can pass simulation function. Required arguments: n_sims: number simulations run. simulations take longer, stable event_rate: event incidence rate, proportion patients experiencing event sim_auc: vector hypothetical AUCs; e.g. seq(0.7, 0.95, 0.05) c(0.75, 0.80, 0.85) n_valid: number samples validation set draws within simulation (evaluating NMB cutpoint) fx_nmb_training: function-defined vector used get cutpoints training set. Recommended use constant values fx_nmb_evaluation: function-defined vector used get cutpoints evaluation set. Recommended use sampled values (Optional) Users can pass cluster cl argument. passed, simulations run parallel (faster). simulations can interpreted range hypothetical situations different levels model performance within specific healthcare setting. can visualise change may affect preferences model-guided strategy versus treat-treat-none strategy - words, using model determine get treatment, rather everyone -one. plot() object returned function quickly inspect trends:  , visualising many simulations different inputs. just want inspect single set inputs, say model AUC 0.9, can run simulation alone using do_nmb_sim(), access existing screen. plotting single set simulation inputs, see distributions NMB across simulations strategy.","code":"library(predictNMB)  fx_nmb <- get_nmb_sampler(   outcome_cost = 100,   high_risk_group_treatment_effect = 0.35,   high_risk_group_treatment_cost = 10 )  fx_nmb() #>   TP   FP   TN   FN  #>  -75  -10    0 -100 library(parallel) cl <- makeCluster(detectCores()) sim_screen_obj <- screen_simulation_inputs(   n_sims = 1000, n_valid = 10000, sim_auc = seq(0.7, 0.95, 0.05), event_rate = 0.1,   fx_nmb_training = fx_nmb, fx_nmb_evaluation = fx_nmb,   cutpoint_methods = c(\"all\", \"none\", \"youden\"), cl = cl ) plot(sim_screen_obj) single_sim_obj <- do_nmb_sim(   n_sims = 1000, n_valid = 10000, sim_auc = 0.9, event_rate = 0.1,   fx_nmb_training = fx_nmb, fx_nmb_evaluation = fx_nmb,   cutpoint_methods = c(\"all\", \"none\", \"youden\"), cl = cl ) single_sim_obj <- sim_screen_obj$simulations[[6]] plot(single_sim_obj)"},{"path":"https://rwparsons.github.io/predictNMB/index.html","id":"further-reading","dir":"","previous_headings":"","what":"Further reading","title":"Evaluate Clinical Prediction Models by Net Monetary Benefit","text":"introduction predictNMB vignette available vignette plotting making summary tables simulations ","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"predictNMB simulation, evaluating net monetary benefit simulated model.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"","code":"do_nmb_sim(   sample_size,   n_sims,   n_valid,   sim_auc,   event_rate,   cutpoint_methods = get_inbuilt_cutpoint(return_all_methods = TRUE),   fx_nmb_training,   fx_nmb_evaluation,   meet_min_events = TRUE,   min_events = NA,   cl = NULL )"},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"sample_size Sample size training set. missing, sample size calculation performed calculated size used. n_sims Number simulations run. n_valid Sample size evaluation set. sim_auc Simulated model discrimination (AUC). event_rate Simulated event rate binary outcome predicted. Also known prevalence. cutpoint_methods value vector cutpoint methods include. Defaults use inbuilt methods: \"\" = treat patients (cutpoint = 0) \"none\" = treat patients (cutpoint = 1) \"value_optimising\" = select cutpoint maximises NMB \"youden\" = select cutpoint based Youden index, also known J-index (sensitivity + specificity - 1) \"cost_minimising\" = select cutpoint minimises expected value costs \"prod_sens_spec\" = product sensitivity specificity (sensitivity * specificity) \"roc01\" = selects closest threshold (0,1) point ROC curve User-defined cutpoint methods can used passing name function takes following arguments: predicted (predicted probabilities) actual (actual, binary outcome) nmb (named vector containing NMB values assigned predicted class (.e. c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4))) See ?get_thresholds example user-defined cutpoint function. fx_nmb_training Function returns named vector NMB assigned classifications used obtaining cutpoint training set. See `details` information. fx_nmb_evaluation Function returns named vector NMB assigned classifications used obtaining cutpoint evaluation set. See `details` information. meet_min_events Whether incrementally add samples expected number events (sample_size * event_rate) met. (Applies sampling training data .) min_events minimum number events include training sample. less number included sample size sample_size, additional samples added min_events met. default (NA) use expected value given event_rate sample_size. cl cluster made using parallel::makeCluster(). cluster provided, simulation done parallel.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"predictNMBsim","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"function runs simulation given set inputs represent healthcare setting using model-guided interventions.  arguments fx_nmb_training fx_nmb_evaluation functions capture treatment used, costs effectiveness, costs outcome treated/prevented.  functions return named vector NMB values called used obtaining evaluating cutpoints, respectively. example, following function returns appropriately named vector. get_nmb <- function() c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) helper function, get_nmb_sampler(), help create .","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/do_nmb_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Do the predictNMB simulation, evaluating the net monetary benefit of the simulated model. — do_nmb_sim","text":"","code":"get_nmb <- function() c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) do_nmb_sim(   sample_size = 200, n_sims = 50, n_valid = 10000, sim_auc = 0.7,   event_rate = 0.1, fx_nmb_training = get_nmb, fx_nmb_evaluation = get_nmb ) #> predictNMB object #>  #> Training data sample size:  200 #> Minimum number of events in training sample:  20 #> Evaluation data sample size:  10000 #> Number of simulations:  50 #> Simulated AUC:  0.7 #> Simulated event rate:  0.1"},{"path":"https://rwparsons.github.io/predictNMB/reference/evaluate_cutpoint.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","title":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","text":"Evaluates cutpoint returning mean NMB per sample.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/evaluate_cutpoint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","text":"","code":"evaluate_cutpoint(predicted, actual, pt, nmb)"},{"path":"https://rwparsons.github.io/predictNMB/reference/evaluate_cutpoint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","text":"predicted vector predicted probabilities actual vector actual outcomes pt probability threshold nmb named vector containing NMB assigned classification","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/evaluate_cutpoint.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","text":"numeric","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/evaluate_cutpoint.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Evaluates a cutpoint by returning the mean NMB per sample. — evaluate_cutpoint","text":"","code":"evaluate_cutpoint(   predicted = runif(1000),   actual = sample(c(0, 1), size = 1000, replace = TRUE),   pt = 0.1,   nmb = c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) ) #> [1] -2.031"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_inbuilt_cutpoint.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","title":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","text":"Get cutpoint using methods inbuilt predictNMB","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_inbuilt_cutpoint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","text":"","code":"get_inbuilt_cutpoint(   predicted,   actual,   nmb,   method,   return_all_methods = FALSE )"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_inbuilt_cutpoint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","text":"predicted vector predicted probabilities actual vector actual outcomes nmb named vector containing NMB assigned classification method cutpoint selection method used return_all_methods logical: whether return available methods can used method argument","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_inbuilt_cutpoint.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","text":"selected cutpoint (numeric)","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_inbuilt_cutpoint.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a cutpoint using the methods inbuilt to predictNMB — get_inbuilt_cutpoint","text":"","code":"## get the list of available methods: get_inbuilt_cutpoint(return_all_methods = TRUE) #> [1] \"all\"              \"none\"             \"value_optimising\" \"youden\"           #> [5] \"cost_minimising\"  \"prod_sens_spec\"   \"roc01\"            \"index_of_union\"    ## get the cutpoint that maximises the Youden index for a given set of probabilities and outcomes get_inbuilt_cutpoint(   predicted = runif(1000),   actual = sample(c(0, 1), size = 1000, replace = TRUE),   method = \"youden\" ) #> [1] 0.3649152"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_nmb_sampler.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","title":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","text":"Make NMB sampler use do_nmb_sim() screen_simulation_inputs()","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_nmb_sampler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","text":"","code":"get_nmb_sampler(   outcome_cost,   wtp,   qalys_lost,   high_risk_group_treatment_effect,   high_risk_group_treatment_cost,   low_risk_group_treatment_effect = 0,   low_risk_group_treatment_cost = 0,   use_expected_values = FALSE,   nboot = 10000 )"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_nmb_sampler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","text":"outcome_cost cost outcome. Must provided wtp qalys_lost . can used addition arguments represent additional cost health burden. wtp Willingness--pay. qalys_lost Quality-adjusted life years (QALYs) lost due healthcare event predicted. high_risk_group_treatment_effect effect treatment provided patients given high risk prediction. Can number function. Provide function incorporate uncertainty. high_risk_group_treatment_cost cost treatment provided patients given high risk prediction. Can number function. Provide function incorporate uncertainty. low_risk_group_treatment_effect effect treatment provided patients given low risk prediction. Can number function. Provide function incorporate uncertainty. Defaults 0 (treatment). low_risk_group_treatment_cost cost treatment provided patients given low risk prediction. Can number function. Provide function incorporate uncertainty. Defaults 0 (treatment). use_expected_values Logical. TRUE, gets mean many samples produced function returns every time. sensible choice using resulting function selecting cutpoint. See fx_nmb_training. Defaults FALSE. nboot number samples use creating function returns expected values.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_nmb_sampler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","text":"function","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_nmb_sampler.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make a NMB sampler for use in do_nmb_sim() or screen_simulation_inputs() — get_nmb_sampler","text":"","code":"get_nmb_training <- get_nmb_sampler(outcome_cost = 100,   high_risk_group_treatment_effect = function() rbeta(1, 1, 2),   high_risk_group_treatment_cost = 10,   use_expected_values = TRUE ) get_nmb_evaluation <- get_nmb_sampler(outcome_cost = 100,   high_risk_group_treatment_effect = function() rbeta(1, 1, 2),   high_risk_group_treatment_cost = 10 )  get_nmb_training(); get_nmb_training(); get_nmb_training() #>         TP         FP         TN         FN  #>  -76.24093  -10.00000    0.00000 -100.00000  #>         TP         FP         TN         FN  #>  -76.24093  -10.00000    0.00000 -100.00000  #>         TP         FP         TN         FN  #>  -76.24093  -10.00000    0.00000 -100.00000  get_nmb_evaluation(); get_nmb_evaluation(); get_nmb_evaluation() #>         TP         FP         TN         FN  #>  -68.15419  -10.00000    0.00000 -100.00000  #>         TP         FP         TN         FN  #>  -75.73591  -10.00000    0.00000 -100.00000  #>         TP         FP         TN         FN  #>  -93.75578  -10.00000    0.00000 -100.00000"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_sample.html","id":null,"dir":"Reference","previous_headings":"","what":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","title":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","text":"Samples data prediction model specified AUC prevalence.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_sample.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","text":"","code":"get_sample(auc, n_samples, prevalence, min_events = 0)"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_sample.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","text":"auc Area (receiver operating characteristic) Curve n_samples Number samples draw prevalence Prevalence event rate binary outcome proportion (0.1 = 10%) min_events Minimum number events required sample","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_sample.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","text":"data.frame","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_sample.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Samples data for a prediction model with a specified AUC and prevalence. — get_sample","text":"","code":"get_sample(0.7, 1000, 0.1) #>                 x actual #> 1     0.871521682      0 #> 2    -0.078238284      0 #> 3    -0.881268794      0 #> 4    -1.578224575      0 #> 5    -0.991511303      0 #> 6     0.039022237      0 #> 7    -0.204952171      0 #> 8    -0.398897512      0 #> 9     0.305679435      0 #> 10   -0.438968856      0 #> 11   -1.225109336      0 #> 12   -1.121962895      0 #> 13    1.772078989      0 #> 14    1.092585331      0 #> 15    0.220577920      0 #> 16   -0.470753562      0 #> 17    0.180940689      0 #> 18    0.368858126      0 #> 19   -0.238042077      0 #> 20   -0.621729835      0 #> 21    1.791538353      0 #> 22    0.635282901      0 #> 23   -0.849056356      0 #> 24    0.136451643      0 #> 25    0.705334204      0 #> 26   -1.152965804      0 #> 27    0.104381306      0 #> 28   -0.274691794      0 #> 29   -0.358533302      0 #> 30    2.246097036      0 #> 31   -0.232662745      0 #> 32    2.136031268      0 #> 33   -0.222616015      0 #> 34   -1.381177115      0 #> 35   -1.004087945      0 #> 36   -0.217807678      0 #> 37   -0.663288116      0 #> 38   -1.298809124      0 #> 39   -0.342910884      0 #> 40    0.416289738      0 #> 41   -2.675045143      0 #> 42   -0.625294895      0 #> 43    2.126803155      0 #> 44   -1.772029973      0 #> 45   -0.264743044      0 #> 46    0.713237286      0 #> 47   -0.270032590      0 #> 48   -1.337344953      0 #> 49    0.763691175      0 #> 50    0.024916745      0 #> 51    1.016463042      0 #> 52    1.286418460      0 #> 53   -0.400865692      0 #> 54    0.265654147      0 #> 55    1.426225550      0 #> 56    0.358143616      0 #> 57   -0.147980695      0 #> 58   -0.408059766      0 #> 59   -0.114027812      0 #> 60    0.531374043      0 #> 61   -1.223693539      0 #> 62    0.752168580      0 #> 63   -0.241659152      0 #> 64   -1.038471100      0 #> 65    0.317074026      0 #> 66    0.705684780      0 #> 67    0.301197561      0 #> 68    0.726846533      0 #> 69   -0.886733443      0 #> 70   -0.319609832      0 #> 71    0.097341076      0 #> 72   -1.459967718      0 #> 73    1.369077284      0 #> 74    0.156798800      0 #> 75    1.345429310      0 #> 76   -0.209546872      0 #> 77   -1.689887081      0 #> 78   -0.248191082      0 #> 79   -0.265658105      0 #> 80    1.758346299      0 #> 81   -1.153721176      0 #> 82    0.530981859      0 #> 83   -0.219961186      0 #> 84    0.777349853      0 #> 85   -0.913494095      0 #> 86    0.041905807      0 #> 87   -1.455503834      0 #> 88    1.601236878      0 #> 89    0.583448142      0 #> 90   -1.644477887      0 #> 91    0.166551720      0 #> 92   -0.504679854      0 #> 93   -0.311487997      0 #> 94   -2.198124375      0 #> 95   -0.195126707      0 #> 96   -1.371263237      0 #> 97   -3.272790932      0 #> 98    0.273100685      0 #> 99   -0.409590312      0 #> 100   0.818740342      0 #> 101  -1.505120053      0 #> 102   1.034358360      0 #> 103  -0.290455117      0 #> 104   0.852067746      0 #> 105  -2.217169903      0 #> 106  -2.112954487      0 #> 107  -0.816521661      0 #> 108  -0.108051552      0 #> 109   0.465189751      0 #> 110  -0.799182792      0 #> 111   0.239637592      0 #> 112  -0.012340641      0 #> 113   1.193990708      0 #> 114  -1.583668837      0 #> 115   2.567962866      0 #> 116   0.745543745      0 #> 117   0.351706607      0 #> 118   0.178828730      0 #> 119   0.242520575      0 #> 120   0.259051590      0 #> 121   0.690630327      0 #> 122   0.757585853      0 #> 123  -0.002951471      0 #> 124  -1.686370870      0 #> 125  -1.988440866      0 #> 126   0.539512277      0 #> 127   1.039402403      0 #> 128   2.172987678      0 #> 129   0.174901721      0 #> 130  -0.630822300      0 #> 131  -0.542071171      0 #> 132  -1.212339709      0 #> 133  -0.191111516      0 #> 134   1.689975775      0 #> 135  -1.023422080      0 #> 136  -0.003304015      0 #> 137  -2.132635893      0 #> 138   1.209121179      0 #> 139  -0.654379765      0 #> 140  -0.171374084      0 #> 141  -1.585740947      0 #> 142  -0.920345556      0 #> 143  -0.493932451      0 #> 144  -0.095666790      0 #> 145  -0.579482887      0 #> 146  -2.538169431      0 #> 147   0.365534826      0 #> 148  -0.104900276      0 #> 149   0.691740316      0 #> 150  -1.227749902      0 #> 151  -1.909765491      0 #> 152  -0.983916939      0 #> 153   0.912836239      0 #> 154   1.122902077      0 #> 155  -1.121166169      0 #> 156  -0.032373913      0 #> 157   2.012099574      0 #> 158   0.650034851      0 #> 159   0.816175576      0 #> 160   0.238396045      0 #> 161  -0.475927795      0 #> 162  -0.386309406      0 #> 163   0.696296538      0 #> 164  -0.844956507      0 #> 165  -0.344186415      0 #> 166  -0.376278553      0 #> 167  -0.995206586      0 #> 168   2.105699406      0 #> 169   1.529098776      0 #> 170  -0.759265606      0 #> 171   1.144192055      0 #> 172  -1.846408049      0 #> 173  -0.498975175      0 #> 174   1.397711433      0 #> 175   1.525037727      0 #> 176  -0.838974674      0 #> 177  -0.030670009      0 #> 178   0.824576278      0 #> 179  -0.312308759      0 #> 180  -0.401775931      0 #> 181  -0.133428264      0 #> 182  -0.300421019      0 #> 183  -0.612113751      0 #> 184   2.376045600      0 #> 185  -0.195581853      0 #> 186  -1.341275632      0 #> 187  -0.817419345      0 #> 188  -0.617433335      0 #> 189  -0.700626432      0 #> 190   0.704212214      0 #> 191  -1.481516999      0 #> 192  -0.730582166      0 #> 193   0.067810814      0 #> 194   0.612590410      0 #> 195   0.931151253      0 #> 196   0.389146262      0 #> 197   0.280280158      0 #> 198   0.770022251      0 #> 199   0.600789844      0 #> 200  -1.015798806      0 #> 201   0.443148593      0 #> 202   1.247706525      0 #> 203  -0.685820530      0 #> 204  -2.037088307      0 #> 205  -0.209686877      0 #> 206   2.314785413      0 #> 207  -0.426008583      0 #> 208   0.146386207      0 #> 209   1.656374921      0 #> 210  -0.825553904      0 #> 211  -0.629840194      0 #> 212   0.791248820      0 #> 213   0.111008513      0 #> 214   0.428135194      0 #> 215  -1.160968564      0 #> 216  -1.465861765      0 #> 217   0.400605736      0 #> 218   1.169101678      0 #> 219  -0.159598035      0 #> 220  -1.939032854      0 #> 221   0.914638587      0 #> 222  -1.254061859      0 #> 223   0.029406354      0 #> 224   0.878503840      0 #> 225  -2.328036932      0 #> 226   0.427241726      0 #> 227   1.109567598      0 #> 228   1.341868759      0 #> 229  -0.707274320      0 #> 230   1.150049673      0 #> 231  -0.619196641      0 #> 232  -0.134963550      0 #> 233   1.159598170      0 #> 234   0.344617584      0 #> 235   0.682186599      0 #> 236   0.741990664      0 #> 237  -0.512160680      0 #> 238   0.268067476      0 #> 239   0.676216799      0 #> 240   0.191911191      0 #> 241  -1.494741421      0 #> 242  -0.165352804      0 #> 243   0.105472909      0 #> 244  -0.080970161      0 #> 245  -0.064087804      0 #> 246   0.869927210      0 #> 247  -0.329252085      0 #> 248   0.198005201      0 #> 249  -0.464780519      0 #> 250  -1.113378878      0 #> 251  -2.494785292      0 #> 252   0.345366828      0 #> 253  -1.047141117      0 #> 254   0.814946228      0 #> 255   0.492669232      0 #> 256   0.638575451      0 #> 257  -0.867698978      0 #> 258   0.503458741      0 #> 259  -0.215569721      0 #> 260  -0.833379811      0 #> 261  -0.299344260      0 #> 262  -0.548994698      0 #> 263   1.183930619      0 #> 264   0.769621802      0 #> 265  -0.617680370      0 #> 266  -0.349300270      0 #> 267  -1.560956469      0 #> 268  -0.857648366      0 #> 269   0.011395309      0 #> 270  -1.649892561      0 #> 271   1.139659283      0 #> 272   1.660520564      0 #> 273   0.566986710      0 #> 274   1.227236590      0 #> 275  -0.114823321      0 #> 276   0.780587701      0 #> 277  -0.816608831      0 #> 278   0.528416005      0 #> 279   1.448470570      0 #> 280   0.060638677      0 #> 281   0.337560920      0 #> 282   2.255656946      0 #> 283   0.039434287      0 #> 284   0.603020387      0 #> 285   0.541537312      0 #> 286   0.488763503      0 #> 287   0.809669526      0 #> 288   1.144630825      0 #> 289   0.426833412      0 #> 290   0.556974612      0 #> 291   0.954697850      0 #> 292  -0.491983812      0 #> 293   1.565631415      0 #> 294   0.534713103      0 #> 295   0.092662604      0 #> 296   0.273505718      0 #> 297  -1.760321311      0 #> 298   2.201003393      0 #> 299   0.486111650      0 #> 300  -0.042839016      0 #> 301   0.024445260      0 #> 302  -0.535187592      0 #> 303  -1.670321445      0 #> 304  -1.613792368      0 #> 305  -1.732941657      0 #> 306   0.677368387      0 #> 307  -0.965007694      0 #> 308   0.444005768      0 #> 309  -1.375924758      0 #> 310   0.016858105      0 #> 311   1.098327550      0 #> 312   0.461475408      0 #> 313   0.898717101      0 #> 314  -0.990243169      0 #> 315  -0.241827198      0 #> 316  -0.951156671      0 #> 317   0.697196949      0 #> 318  -0.552227477      0 #> 319   1.068008513      0 #> 320   0.123563993      0 #> 321  -0.878671602      0 #> 322  -0.146215204      0 #> 323  -1.829020325      0 #> 324   1.505937576      0 #> 325  -0.573411849      0 #> 326   1.392119369      0 #> 327  -1.716567762      0 #> 328  -1.570044664      0 #> 329  -1.695623491      0 #> 330  -1.336065263      0 #> 331  -0.471680888      0 #> 332  -0.427095770      0 #> 333  -1.427100589      0 #> 334  -0.814313512      0 #> 335   0.111522166      0 #> 336  -1.165006427      0 #> 337  -1.219378949      0 #> 338   0.254437547      0 #> 339  -1.178796754      0 #> 340  -0.950612158      0 #> 341  -0.222195937      0 #> 342  -0.778512265      0 #> 343  -0.267597816      0 #> 344  -0.022985974      0 #> 345   0.750274584      0 #> 346   1.069640484      0 #> 347  -0.846482233      0 #> 348   0.252225707      0 #> 349  -1.077249415      0 #> 350  -0.274355539      0 #> 351  -1.212060842      0 #> 352  -0.120839839      0 #> 353  -0.269989164      0 #> 354   0.516863697      0 #> 355   0.004475778      0 #> 356  -1.761595497      0 #> 357  -0.484746634      0 #> 358  -0.291376774      0 #> 359  -0.050336955      0 #> 360  -0.921188035      0 #> 361   0.512964427      0 #> 362   0.379946436      0 #> 363  -0.039564542      0 #> 364   2.088414206      0 #> 365  -1.123115177      0 #> 366  -2.053565686      0 #> 367   0.906530500      0 #> 368   0.033120155      0 #> 369  -0.097361531      0 #> 370   0.237818076      0 #> 371  -0.224508750      0 #> 372   0.013658657      0 #> 373  -0.799726745      0 #> 374  -1.153569412      0 #> 375   0.680253144      0 #> 376   0.008324606      0 #> 377   0.399863016      0 #> 378   1.303770989      0 #> 379   0.805692580      0 #> 380  -0.873215657      0 #> 381  -0.744649411      0 #> 382  -2.095801554      0 #> 383   0.278162025      0 #> 384   0.268818969      0 #> 385  -0.489872180      0 #> 386   0.074822378      0 #> 387  -0.322117805      0 #> 388   0.966428498      0 #> 389   0.147570572      0 #> 390  -0.759765476      0 #> 391  -0.581781116      0 #> 392   0.854820449      0 #> 393   1.478955550      0 #> 394   1.193501761      0 #> 395  -0.126158789      0 #> 396   1.122519034      0 #> 397   0.807220316      0 #> 398   1.216649271      0 #> 399  -2.186628316      0 #> 400  -0.453929810      0 #> 401  -0.488235303      0 #> 402   1.698950555      0 #> 403   0.219789690      0 #> 404   0.319798752      0 #> 405  -2.644411485      0 #> 406   0.030652287      0 #> 407  -0.663798507      0 #> 408   0.127146076      0 #> 409   0.459486508      0 #> 410  -0.651238405      0 #> 411  -0.495966247      0 #> 412  -0.717942080      0 #> 413   1.606103689      0 #> 414   1.609925591      0 #> 415   1.596764957      0 #> 416  -1.100307154      0 #> 417   0.261553991      0 #> 418  -1.119589186      0 #> 419   0.019469790      0 #> 420  -0.359151150      0 #> 421   1.329573204      0 #> 422  -0.941000435      0 #> 423  -0.806817965      0 #> 424   0.348401676      0 #> 425   0.797660703      0 #> 426  -0.853105659      0 #> 427   0.143584721      0 #> 428   0.335213588      0 #> 429  -0.132698501      0 #> 430   1.472589944      0 #> 431  -0.014457739      0 #> 432   0.159666900      0 #> 433   0.208938179      0 #> 434   1.370905136      0 #> 435   0.397453945      0 #> 436   0.582205972      0 #> 437   2.297333905      0 #> 438  -2.890139366      0 #> 439  -0.336656793      0 #> 440   1.277993137      0 #> 441   2.647912488      0 #> 442   0.249929346      0 #> 443   0.364336723      0 #> 444   2.425326346      0 #> 445  -1.081917152      0 #> 446   0.430387116      0 #> 447  -0.688500214      0 #> 448   0.651456620      0 #> 449  -0.147795792      0 #> 450  -0.893295800      0 #> 451   0.312236166      0 #> 452   0.095397251      0 #> 453  -0.416667808      0 #> 454  -1.033193026      0 #> 455   1.039386279      0 #> 456   0.061600650      0 #> 457   0.882439261      0 #> 458   0.110592013      0 #> 459   0.874029260      0 #> 460  -0.196645521      0 #> 461   0.209837774      0 #> 462   1.183047205      0 #> 463   0.788010578      0 #> 464  -0.726648306      0 #> 465   0.427263786      0 #> 466   1.402081003      0 #> 467   0.903241948      0 #> 468   1.035417968      0 #> 469   0.291934830      0 #> 470  -0.594506206      0 #> 471   0.287386093      0 #> 472  -1.721004841      0 #> 473  -0.554680201      0 #> 474   0.338676686      0 #> 475   1.799798764      0 #> 476  -0.667457282      0 #> 477   0.729976490      0 #> 478   1.468964194      0 #> 479   1.031835255      0 #> 480   0.305406945      0 #> 481   1.733320351      0 #> 482   2.773108770      0 #> 483   0.207909738      0 #> 484   0.408196581      0 #> 485   0.785919337      0 #> 486   0.506956307      0 #> 487  -0.699366242      0 #> 488  -0.190077438      0 #> 489  -0.831602651      0 #> 490  -0.631782391      0 #> 491  -0.255539665      0 #> 492   0.041947851      0 #> 493   0.161550078      0 #> 494  -0.420741394      0 #> 495   0.002736740      0 #> 496   0.216822895      0 #> 497   1.451478389      0 #> 498  -0.365638158      0 #> 499   1.168739033      0 #> 500  -1.185463046      0 #> 501   1.199822525      0 #> 502  -0.951204240      0 #> 503   0.191184127      0 #> 504   2.018842579      0 #> 505  -0.110473702      0 #> 506  -0.639667370      0 #> 507  -1.220185567      0 #> 508  -1.273860826      0 #> 509  -0.565785611      0 #> 510   0.535450148      0 #> 511   0.847097689      0 #> 512  -0.471455290      0 #> 513  -1.324282643      0 #> 514  -0.411721785      0 #> 515   0.198971752      0 #> 516   0.199497924      0 #> 517   0.873509033      0 #> 518   0.586191668      0 #> 519   0.700104361      0 #> 520  -1.123834531      0 #> 521  -0.191169207      0 #> 522  -0.749008324      0 #> 523  -1.025443204      0 #> 524  -1.147488447      0 #> 525  -1.603692777      0 #> 526   0.128891562      0 #> 527   0.520502982      0 #> 528  -0.184890151      0 #> 529  -0.279650959      0 #> 530   2.665697479      0 #> 531   1.474738049      0 #> 532  -0.145937738      0 #> 533   0.374842626      0 #> 534  -0.734809501      0 #> 535  -1.834763771      0 #> 536  -0.005329923      0 #> 537  -0.030639902      0 #> 538   2.207963131      0 #> 539   1.226060488      0 #> 540   1.470082745      0 #> 541   0.347849406      0 #> 542   1.599332262      0 #> 543   2.084593768      0 #> 544   0.412321002      0 #> 545  -1.418639231      0 #> 546   0.102322053      0 #> 547   0.325624176      0 #> 548   1.606162941      0 #> 549   1.093602274      0 #> 550  -0.168804108      0 #> 551  -2.252850172      0 #> 552   0.408641590      0 #> 553  -1.201665725      0 #> 554   0.360751597      0 #> 555   0.774037223      0 #> 556  -0.589682858      0 #> 557   0.878793293      0 #> 558  -0.526316701      0 #> 559  -0.497287602      0 #> 560  -1.152754419      0 #> 561  -0.807923905      0 #> 562  -0.058997242      0 #> 563   0.133445096      0 #> 564   0.436364977      0 #> 565   0.217644669      0 #> 566  -1.142442879      0 #> 567   1.487102701      0 #> 568  -1.069893741      0 #> 569   0.541126916      0 #> 570  -0.882831384      0 #> 571  -1.783116857      0 #> 572  -1.345708270      0 #> 573  -2.329955696      0 #> 574  -1.760450479      0 #> 575   0.245568170      0 #> 576  -0.187181730      0 #> 577   0.155258974      0 #> 578  -0.887665932      0 #> 579   0.706729363      0 #> 580  -1.405525598      0 #> 581   0.527617988      0 #> 582   0.098623760      0 #> 583  -0.487147010      0 #> 584  -1.461565788      0 #> 585   0.655595157      0 #> 586   0.855826172      0 #> 587   0.486811147      0 #> 588   2.010584965      0 #> 589  -1.582022201      0 #> 590   1.370383392      0 #> 591  -0.249849935      0 #> 592   0.572625915      0 #> 593  -0.081718569      0 #> 594  -0.608169531      0 #> 595  -1.253842656      0 #> 596  -0.530201941      0 #> 597  -1.160544015      0 #> 598  -2.220345138      0 #> 599  -1.142708163      0 #> 600   0.870191293      0 #> 601   0.848028368      0 #> 602  -0.049504529      0 #> 603   0.319238896      0 #> 604  -0.414319741      0 #> 605   0.917618731      0 #> 606  -1.190393155      0 #> 607  -0.051122683      0 #> 608   0.238018028      0 #> 609  -2.045870247      0 #> 610  -2.237520445      0 #> 611  -0.689612785      0 #> 612   0.920403446      0 #> 613   0.298654990      0 #> 614   1.251302565      0 #> 615  -1.067917742      0 #> 616   0.942372321      0 #> 617  -0.584102392      0 #> 618   0.581063283      0 #> 619   0.377806135      0 #> 620  -0.096300155      0 #> 621   2.062424809      0 #> 622  -0.086620266      0 #> 623   0.550957696      0 #> 624  -0.050922142      0 #> 625   0.811474638      0 #> 626   0.822181093      0 #> 627   1.004893645      0 #> 628   0.489933164      0 #> 629  -1.041102664      0 #> 630  -0.480531421      0 #> 631   0.764694272      0 #> 632   0.739630002      0 #> 633   1.780828188      0 #> 634   0.183206563      0 #> 635  -0.564541131      0 #> 636   0.796468633      0 #> 637   0.843992195      0 #> 638   0.161154474      0 #> 639   0.608937813      0 #> 640   0.212412195      0 #> 641  -1.335999061      0 #> 642   0.296012322      0 #> 643  -1.099688987      0 #> 644   0.093937145      0 #> 645   0.307612681      0 #> 646   0.092705649      0 #> 647   0.539355365      0 #> 648  -0.994548022      0 #> 649   1.460406738      0 #> 650   0.156571422      0 #> 651   1.435899168      0 #> 652  -0.964622042      0 #> 653   0.156094409      0 #> 654  -1.314044252      0 #> 655  -0.017709863      0 #> 656   0.666303251      0 #> 657   0.514161434      0 #> 658   0.098036319      0 #> 659   0.895042132      0 #> 660  -1.780945218      0 #> 661  -0.065372001      0 #> 662  -0.298847321      0 #> 663  -0.383989709      0 #> 664   2.454020099      0 #> 665   1.782468404      0 #> 666  -1.430463673      0 #> 667   1.014730839      0 #> 668   0.832688434      0 #> 669  -1.940748701      0 #> 670   0.058255222      0 #> 671   1.208063225      0 #> 672   1.507898322      0 #> 673  -0.456480234      0 #> 674   0.721604537      0 #> 675   0.437416718      0 #> 676  -0.399426371      0 #> 677   0.286071257      0 #> 678  -0.515336940      0 #> 679   1.338759852      0 #> 680   0.741462850      0 #> 681   0.455934903      0 #> 682  -0.251997826      0 #> 683  -1.031543810      0 #> 684   0.753029721      0 #> 685   1.285917776      0 #> 686  -1.231549676      0 #> 687   0.559322230      0 #> 688   0.265720163      0 #> 689  -0.082285941      0 #> 690  -0.217700423      0 #> 691  -0.082711738      0 #> 692  -0.693945172      0 #> 693   0.730358371      0 #> 694   0.329988351      0 #> 695  -0.154960032      0 #> 696   0.367997239      0 #> 697   0.948792780      0 #> 698   1.131685429      0 #> 699   0.005107499      0 #> 700   0.908913502      0 #> 701   0.245908980      0 #> 702   1.200657939      0 #> 703   2.461471589      0 #> 704  -0.187668626      0 #> 705  -0.071734926      0 #> 706  -1.925152619      0 #> 707   2.315310098      0 #> 708  -0.626974923      0 #> 709  -0.186804052      0 #> 710   0.148645348      0 #> 711   0.439628663      0 #> 712   0.309790047      0 #> 713  -1.410975418      0 #> 714   0.761817898      0 #> 715  -1.015614791      0 #> 716   0.384975187      0 #> 717   0.142054908      0 #> 718   1.041512012      0 #> 719   0.799121373      0 #> 720   0.496315821      0 #> 721   0.381237589      0 #> 722   1.055228579      0 #> 723  -1.215772123      0 #> 724  -0.601798092      0 #> 725   0.889567026      0 #> 726  -0.517184781      0 #> 727   1.130207658      0 #> 728  -0.924595141      0 #> 729   0.877750952      0 #> 730  -1.846468871      0 #> 731   1.254651664      0 #> 732   0.322576725      0 #> 733  -0.583476568      0 #> 734  -1.768690146      0 #> 735   0.523265031      0 #> 736  -0.129730549      0 #> 737   0.884897721      0 #> 738   0.089548866      0 #> 739  -0.883555950      0 #> 740  -0.429810845      0 #> 741  -0.352122910      0 #> 742   0.009304653      0 #> 743   0.938290678      0 #> 744  -0.154174267      0 #> 745   1.279434116      0 #> 746   1.000668817      0 #> 747   0.543754828      0 #> 748   0.761680312      0 #> 749   0.256243467      0 #> 750   0.651536736      0 #> 751  -0.620366142      0 #> 752   1.641625701      0 #> 753  -1.412637059      0 #> 754   0.120352394      0 #> 755   1.182367016      0 #> 756   0.220473026      0 #> 757   0.986802391      0 #> 758   1.966909130      0 #> 759   0.910617997      0 #> 760  -0.519984799      0 #> 761   0.021549693      0 #> 762  -1.060515855      0 #> 763   2.044481437      0 #> 764   1.186774953      0 #> 765   0.039595187      0 #> 766  -0.182772991      0 #> 767  -1.162942601      0 #> 768   0.729079108      0 #> 769   0.603138217      0 #> 770   0.060224036      0 #> 771  -0.626184747      0 #> 772   0.809000099      0 #> 773  -0.435812136      0 #> 774   1.320791337      0 #> 775   0.484974988      0 #> 776   0.736572283      0 #> 777   1.160562964      0 #> 778  -0.163791522      0 #> 779  -0.191645829      0 #> 780   2.548447536      0 #> 781   1.228845964      0 #> 782   0.255304369      0 #> 783   0.036420572      0 #> 784   1.664566616      0 #> 785  -0.534542521      0 #> 786  -2.813017104      0 #> 787  -1.698954743      0 #> 788   0.713665208      0 #> 789   0.912852399      0 #> 790  -1.245131849      0 #> 791   0.118144666      0 #> 792   0.885373737      0 #> 793   0.167168662      0 #> 794   0.117167820      0 #> 795   0.552461161      0 #> 796  -0.555290346      0 #> 797  -1.218910810      0 #> 798   0.765509214      0 #> 799   0.450408170      0 #> 800  -2.272378117      0 #> 801  -0.443919546      0 #> 802  -2.594936624      0 #> 803  -0.167248203      0 #> 804  -0.873872039      0 #> 805  -0.771321272      0 #> 806   0.124288185      0 #> 807  -0.581733116      0 #> 808  -0.342282084      0 #> 809  -1.234018621      0 #> 810  -0.983145241      0 #> 811  -0.508302032      0 #> 812  -0.583489330      0 #> 813  -1.376752876      0 #> 814   0.174038268      0 #> 815   0.582143896      0 #> 816   1.042101807      0 #> 817   0.057589379      0 #> 818   0.227058708      0 #> 819  -0.160707175      0 #> 820   0.486911801      0 #> 821  -0.056863894      0 #> 822  -1.427926248      0 #> 823  -0.753638038      0 #> 824  -1.129639363      0 #> 825  -1.336482133      0 #> 826  -1.777990988      0 #> 827   0.573543624      0 #> 828   0.120906615      0 #> 829   0.357235425      0 #> 830  -0.152039186      0 #> 831   0.499826612      0 #> 832  -0.044676729      0 #> 833  -0.004720621      0 #> 834   0.145440046      0 #> 835  -0.303913794      0 #> 836  -0.009373467      0 #> 837   0.044081779      0 #> 838  -0.196580262      0 #> 839  -1.521441521      0 #> 840   1.371069584      0 #> 841   0.115658287      0 #> 842   2.122531549      0 #> 843  -1.062563722      0 #> 844  -0.099720206      0 #> 845   0.166899715      0 #> 846  -1.757179890      0 #> 847  -0.318049077      0 #> 848  -0.239329720      0 #> 849   0.433382660      0 #> 850  -0.322633041      0 #> 851  -0.278592708      0 #> 852  -1.266622600      0 #> 853   0.025374223      0 #> 854  -0.122658811      0 #> 855   0.729749827      0 #> 856   1.490422450      0 #> 857  -2.189321121      0 #> 858  -0.161001704      0 #> 859  -0.653965118      0 #> 860   0.996576734      0 #> 861   1.441845680      0 #> 862  -1.342070320      0 #> 863   0.467252678      0 #> 864  -0.928474793      0 #> 865   0.308592494      0 #> 866  -0.091939492      0 #> 867  -0.867435733      0 #> 868  -2.022174623      0 #> 869   1.649841256      0 #> 870   0.434442582      0 #> 871   0.278711278      0 #> 872   0.206914292      0 #> 873  -0.858640603      0 #> 874   1.775541804      0 #> 875   0.391261084      0 #> 876  -1.498001961      0 #> 877  -0.087269391      0 #> 878  -1.004645524      0 #> 879   0.200237497      0 #> 880   1.230558495      0 #> 881  -0.541120082      0 #> 882   1.165910420      0 #> 883  -0.031403799      0 #> 884   1.500260678      0 #> 885   0.911869107      0 #> 886   0.903120010      0 #> 887  -0.079514396      0 #> 888  -1.340233301      0 #> 889   0.423127502      0 #> 890   0.415547018      0 #> 891  -0.082432221      0 #> 892   2.234186913      1 #> 893   1.090011006      1 #> 894   2.037872005      1 #> 895  -0.043500896      1 #> 896   0.880479554      1 #> 897   0.469945031      1 #> 898   0.748542982      1 #> 899  -0.161877962      1 #> 900   2.073402899      1 #> 901   1.367462506      1 #> 902  -0.460626827      1 #> 903  -0.145185105      1 #> 904   2.414842375      1 #> 905   1.755300280      1 #> 906   2.828818519      1 #> 907   2.317393560      1 #> 908   0.695509509      1 #> 909   0.950357959      1 #> 910   1.385138679      1 #> 911   0.796996380      1 #> 912  -0.197003411      1 #> 913   1.826414195      1 #> 914   0.852257591      1 #> 915  -0.187468820      1 #> 916   1.361119983      1 #> 917   1.967472586      1 #> 918  -0.633186666      1 #> 919   1.010336310      1 #> 920  -0.302790526      1 #> 921  -0.676232786      1 #> 922   2.792993564      1 #> 923   1.463787029      1 #> 924   0.778127826      1 #> 925   0.065622780      1 #> 926   1.699721619      1 #> 927   0.134078963      1 #> 928   3.278954514      1 #> 929   1.868667847      1 #> 930   1.617548467      1 #> 931   1.194368475      1 #> 932   1.253092602      1 #> 933   0.758855179      1 #> 934   2.532946960      1 #> 935   0.275029644      1 #> 936   0.885987616      1 #> 937   0.508670067      1 #> 938   0.557709963      1 #> 939  -0.065224586      1 #> 940   2.412857091      1 #> 941   0.696581720      1 #> 942   1.976960910      1 #> 943   1.199776697      1 #> 944   0.245541959      1 #> 945   0.425057932      1 #> 946  -0.070385468      1 #> 947   1.034079791      1 #> 948   1.928205494      1 #> 949  -1.600802919      1 #> 950   0.492064814      1 #> 951   0.358572195      1 #> 952   0.709924508      1 #> 953  -2.352425269      1 #> 954   1.068278954      1 #> 955   0.203333071      1 #> 956   1.341752504      1 #> 957   0.441937578      1 #> 958   1.922892844      1 #> 959   1.639842081      1 #> 960   0.463565318      1 #> 961   0.858284619      1 #> 962   1.426018980      1 #> 963  -0.343113274      1 #> 964   0.517686180      1 #> 965   0.574614861      1 #> 966   0.391241000      1 #> 967   1.409978902      1 #> 968   0.370497477      1 #> 969   1.712461268      1 #> 970   2.131781677      1 #> 971  -0.508730204      1 #> 972   0.425929278      1 #> 973  -0.055679025      1 #> 974   0.641846395      1 #> 975  -0.391059626      1 #> 976  -0.627698894      1 #> 977   2.259760917      1 #> 978   0.353709277      1 #> 979  -0.288083801      1 #> 980   1.194332720      1 #> 981   0.324299462      1 #> 982  -0.132090028      1 #> 983  -0.349312566      1 #> 984   1.345584985      1 #> 985   1.145959259      1 #> 986  -0.053092308      1 #> 987   2.885641486      1 #> 988   0.463780465      1 #> 989   0.812032569      1 #> 990   0.045365331      1 #> 991  -0.432122405      1 #> 992   1.399440912      1 #> 993   0.685318441      1 #> 994  -0.143380735      1 #> 995  -0.262400521      1 #> 996   0.705103017      1 #> 997   0.914603318      1 #> 998   1.449068486      1 #> 999  -0.740415029      1 #> 1000 -0.419810612      1"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_thresholds.html","id":null,"dir":"Reference","previous_headings":"","what":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","title":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","text":"Gets probability thresholds given predicted probabilities, outcomes NMB.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_thresholds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","text":"","code":"get_thresholds(predicted, actual, nmb, cutpoint_methods = NULL)"},{"path":"https://rwparsons.github.io/predictNMB/reference/get_thresholds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","text":"predicted vector predicted probabilities actual vector actual outcomes nmb named vector containing NMB assigned true positives, true negatives, false positives false negatives cutpoint_methods cutpoint method(s) return. default (NULL) uses inbuilt methods.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_thresholds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","text":"list","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/get_thresholds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Gets probability thresholds given predicted probabilities, outcomes and NMB. — get_thresholds","text":"","code":"# get thresholds using default (all inbuilt) cutpoint methods get_thresholds(   predicted = runif(1000),   actual = sample(c(0, 1), size = 1000, replace = TRUE),   nmb = c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) ) #>              all             none value_optimising           youden  #>        0.0000000        1.0000000        0.4758438        0.4683311  #>  cost_minimising   prod_sens_spec            roc01   index_of_union  #>        0.5000000        0.4802860        0.4802860        0.5001406    # get cutpoints using user-defined functions # These functions must take the \\code{predicted} and \\code{actual} as arguments # They can also take \\code{nmb} (named vector containing NMB with values for TP, FP, TN, FN) fx_roc01 <- function(predicted, actual, ...) {   cutpointr::cutpointr(     x = predicted, class = actual, method = cutpointr::minimize_metric,     metric = cutpointr::roc01,     silent = TRUE   )[[\"optimal_cutpoint\"]] }  fx_sum_sens_spec <- function(predicted, actual, ...) {   cutpointr::cutpointr(     x = predicted, class = actual, method = cutpointr::maximize_metric,     metric = cutpointr::sum_sens_spec,     silent = TRUE   )[[\"optimal_cutpoint\"]] }  get_thresholds(   predicted = runif(1000),   actual = sample(c(0, 1), size = 1000, replace = TRUE),   cutpoint_methods = c(\"fx_roc01\", \"fx_sum_sens_spec\"),   nmb = c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) ) #> Error in fx_roc01(predicted = c(0.396611041156575, 0.505969134392217, 0.658696331782266, 0.0828784678597003, 0.595410130685195, 0.145701866131276, 0.429241551086307, 0.737888012314215, 0.799463328206912, 0.0871393173001707, 0.967946906108409, 0.359924559248611, 0.662251062691212, 0.499227886321023, 0.498579261125997, 0.102414463879541, 0.35958613990806, 0.258995465701446, 0.142137671122327, 0.511246718931943, 0.675724992761388, 0.919604440685362, 0.179440701613203, 0.455855068517849, 0.793936823494732, 0.359091443242505, 0.700804154155776, 0.812391377519816, 0.881340101128444, 0.73431344027631, 0.842904142104089, 0.23163419845514, 0.374529826687649, 0.871164435986429, 0.459328671218827, 0.482008947292343, 0.732995352707803, 0.844456493621692, 0.914764242712408, 0.608215855201706, 0.0659790132194757, 0.98056280403398, 0.188864106079563, 0.607279800111428, 0.430925245396793, 0.152380388928577, 0.246678398456424, 0.283762285253033, 0.172857536701486, 0.390858026454225, 0.363360926276073, 0.337546437745914, 0.387882766546682, 0.0281907664611936, 0.902435707626864, 0.870023228926584, 0.854482552036643, 0.527699808124453, 0.327043866738677, 0.360027733026072, 0.583641936536878, 0.923366328468546, 0.442300632363185, 0.0725901287514716, 0.885132516268641, 0.125212891958654, 0.107737528160214, 0.95507317292504, 0.283041065325961, 0.204889614135027, 0.472968991380185, 0.157152363331988, 0.956225877860561, 0.210571581497788, 0.974511072039604, 0.736458550207317, 0.855998000362888, 0.767831800272688, 0.810748424381018, 0.412442532135174, 0.0501933391205966, 0.196439599152654, 0.0172577670309693, 0.649770172312856, 0.590382371330634, 0.205293477745727, 0.904968553222716, 0.29873650544323, 0.692924894625321, 0.0802742054220289, 0.731789663666859, 0.39823315734975, 0.757074971450493, 0.62409447110258, 0.363798624137416, 0.427324739051983, 0.502943369327113, 0.281208067666739, 0.891056096646935, 0.410027167992666, 0.830272388877347, 0.0227874417323619, 0.859981374815106, 0.206067064544186, 0.506886203307658, 0.306755022378638, 0.220403610728681, 0.0174824264831841, 0.668058492708951, 0.622649863595143, 0.555579416686669, 0.0645017044153064, 0.051324640866369, 0.939098778646439, 0.549315477488562, 0.821474618976936, 0.397021517856047, 0.961073324084282, 0.647491281153634, 0.965370290214196, 0.981950754765421, 0.545028887689114, 0.666314186528325, 0.909632246475667, 0.683403773233294, 0.759136846521869, 0.215031186351553, 0.520999737549573, 0.013500879984349, 0.151849172078073, 0.37981390254572, 0.207351478049532, 0.830614865059033, 0.850479927379638, 0.83428384247236, 0.411172688705847, 0.247444852022454, 0.00880036735907197, 0.472956340759993, 0.449193567968905, 0.606609254609793, 0.59268502658233, 0.505218098172918, 0.15857792343013, 0.380768717033789, 0.558301680255681, 0.837773951003328, 0.149867627071217, 0.206081735203043, 0.33425113465637, 0.828342044260353, 0.00183141091838479, 0.721114452229813, 0.786399628734216, 0.554459921782836, 0.990814112825319, 0.952668459154665, 0.436343852430582, 0.892048072535545, 0.499018535716459, 0.265274900943041, 0.804445669054985, 0.548257972579449, 0.168235154822469, 0.596368645085022, 0.190539318602532, 0.0456720693036914, 0.35671646380797, 0.663196266628802, 0.647753122262657, 0.741221496835351, 0.125448933569714, 0.337612327653915, 0.505579267861322, 0.833363040583208, 0.232390544610098, 0.655247350689024, 0.877044902415946, 0.524736376944929, 0.791468370240182, 0.0967030751053244, 0.423988006543368, 0.528420723741874, 0.356327509041876, 0.534867871319875, 0.538857424398884, 0.356877258280292, 0.563516046851873, 0.370422330452129, 0.195251288358122, 0.594603288453072, 0.667847839649767, 0.133282284252346, 0.199361068196595, 0.500580458668992, 0.233971587382257, 0.82381043350324, 0.178569918731228, 0.773481609299779, 0.0186345027759671, 0.42273193737492, 0.307457041926682, 0.311100353719667, 0.718889043200761, 0.270467829657719, 0.102054855320603, 0.958247734233737, 0.449529782868922, 0.807525133481249, 0.720147114712745, 0.592087663011625, 0.0944332252256572, 0.259432473219931, 0.895587891340256, 0.805092116817832, 0.509482610970736, 0.959033395862207, 0.544322518864647, 0.0586813378613442, 0.416666670702398, 0.200656655244529, 0.321487715933472, 0.879137183306739, 0.791968126315624, 0.0991057516075671, 0.0996072543784976, 0.685764249647036, 0.0628424517344683, 0.899979441892356, 0.915456250077114, 0.0934980432502925, 0.344290389912203, 0.979413228807971, 0.554068157216534, 0.927894254215062, 0.431961609050632, 0.849669397575781, 0.162738480139524, 0.711487771943212, 0.750860559986904, 0.0309151739347726, 0.402385692112148, 0.976450502406806, 0.0597277528140694, 0.115038609597832, 0.0993813946843147, 0.707545895129442, 0.377984221559018, 0.350554664619267, 0.622452873503789, 0.463160041952506, 0.0869906912557781, 0.637639384018257, 0.011644379934296, 0.59417764027603, 0.860120689263567, 0.841966923559085, 0.70932106138207, 0.227288192370906, 0.420676823472604, 0.577520505525172, 0.91571926837787, 0.218797594076023, 0.636402189964429, 0.0999624140094966, 0.269110822118819, 0.854260403197259, 0.515228824224323, 0.468181788688526, 0.325628033140674, 0.883953989949077, 0.479664067039266, 0.95705499430187, 0.141700454754755, 0.592387492768466, 0.759534908458591, 0.0979840750806034, 0.419669725000858, 0.919664792949334, 0.4552218161989, 0.499120553722605, 0.294925024500117, 0.149931689957157, 0.43250842159614, 0.0490125250071287, 0.341350385686383, 0.591129707172513, 0.6533781462349, 0.853015080094337, 0.30457267863676, 0.195069335633889, 0.203724334947765, 0.837946723215282, 0.922027916414663, 0.617058911593631, 0.77216728636995, 0.286400533746928, 0.778454789426178, 0.746497748652473, 0.169750070897862, 0.366658182814717, 0.544406183296815, 0.538945481879637, 0.457748918328434, 0.55494037293829, 0.256038700928912, 0.821047947742045, 0.701742290752009, 0.701899829786271, 0.793872496346012, 0.692591973347589, 0.932196111185476, 0.183118262095377, 0.684156158007681, 0.235667275963351, 0.415011362405494, 0.8660081573762, 0.336179057369009, 0.190943763358518, 0.527705791871995, 0.0663435698952526, 0.710446594748646, 0.139455588301644, 0.671310254605487, 0.0520795739721507, 0.520876015536487, 0.244301243918017, 0.196115911006927, 0.118354430422187, 0.770740347914398, 0.450741999316961, 0.672347981715575, 0.67935586697422, 0.867667568149045, 0.176072661532089, 0.700779830571264, 0.194147515576333, 0.640856601530686, 0.679300276795402, 0.338455024873838, 0.439775233855471, 0.774674511747435, 0.84385721385479, 0.381716774310917, 0.320858518360183, 0.330026958137751, 0.66298839612864, 0.741136860335246, 0.266686908202246, 0.66037740255706, 0.204563894309103, 0.49714179825969, 0.0344807140063494, 0.960229169111699, 0.217525000218302, 0.654456766322255, 0.34361751191318, 0.247750184033066, 0.652080933563411, 0.223186769988388, 0.908234249567613, 0.128234729636461, 0.792658236576244, 0.133240618277341, 0.50092054810375, 0.968105936190113, 0.430898582329974, 0.0666101917158812, 0.0662749516777694, 0.883763122139499, 0.48455846356228, 0.540199727518484, 0.34323094622232, 0.75577435689047, 0.796255030669272, 0.332664280897006, 0.342098449822515, 0.0774037067312747, 0.269005649024621, 0.440075953723863, 0.107831280678511, 0.355645415838808, 0.93132601166144, 0.241168251028284, 0.619298783596605, 0.535608320264146, 0.0786527565214783, 0.297876759432256, 0.606465228367597, 0.612395581090823, 0.590636385371909, 0.370759370969608, 0.113338312832639, 0.0607664943672717, 0.376917565008625, 0.56583183282055, 0.0323560901451856, 0.458888164488599, 0.407456601271406, 0.866523446049541, 0.817783155245706, 0.488564251922071, 0.231516265310347, 0.733420945471153, 0.236661585280672, 0.428374380106106, 0.183861391386017, 0.888839363120496, 0.012312448117882, 0.656073800753802, 0.391173390904441, 0.955823679454625, 0.0905248115304857, 0.0151538080535829, 0.789106398820877, 0.374518821481615, 0.595772639382631, 0.477425599936396, 0.169743798440322, 0.490947792073712, 0.876335089560598, 0.489921749103814, 0.676162500167266, 0.465860827127472, 0.865180270047858, 0.29851060686633, 0.601370744872838, 0.824195049935952, 0.11171188345179, 0.626804270315915, 0.348800422623754, 0.597871306352317, 0.455820169532672, 0.135171690257266, 0.0419281523209065, 0.790532286744565, 0.583513573743403, 0.945656072814018, 0.409155189990997, 0.73662685113959, 0.192336085950956, 0.852907073451206, 0.195849384646863, 0.798151081893593, 0.692273589782417, 0.876472167205065, 0.113763035740703, 0.542018236592412, 0.908599022077397, 0.951174148824066, 0.27015977492556, 0.00139267952181399, 0.3770462567918, 0.622571892105043, 0.753543301252648, 0.461327320896089, 0.262652869336307, 0.389783330960199, 0.608924258500338, 0.639599525835365, 0.704642621334642, 0.868236757116392, 0.486834676936269, 0.683365955250338, 0.0707322624512017, 0.829958646092564, 0.321159192593768, 0.541238237638026, 0.573096511652693, 0.0400583760347217, 0.533485820284113, 0.96783446171321, 0.323922573123127, 0.880873269401491, 0.354313360061496, 0.959998924285173, 0.735969512490556, 0.89356414671056, 0.299193136859685, 0.532788182143122, 0.516087269876152, 0.110831243917346, 0.397562317550182, 0.443376974202693, 0.611589571926743, 0.191371083259583, 0.935014780145139, 0.555222743656486, 0.100324013736099, 0.248515119077638, 0.570852957200259, 0.692652700468898, 0.475438442081213, 0.9469408178702, 0.983670426765457, 0.351933646481484, 0.272269623586908, 0.899535631295294, 0.601131015690044, 0.268515710020438, 0.796863141702488, 0.428963945247233, 0.638091056840494, 0.465027408208698, 0.667584317037836, 0.0407575229182839, 0.178154164459556, 0.142975306371227, 0.45511364703998, 0.764294715598226, 0.776231541763991, 0.843324023066089, 0.75444165430963, 0.153120499337092, 0.542710823006928, 0.950600855518132, 0.312836900353432, 0.798140408238396, 0.344890719978139, 0.0655990282539278, 0.79511030158028, 0.923571474384516, 0.732089447090402, 0.161386922933161, 0.596739064669237, 0.295553782954812, 0.857703495770693, 0.745591489830986, 0.133147411048412, 0.619771255645901, 0.946533701848239, 0.446163438260555, 0.978297436609864, 0.425417724763975, 0.697984443744645, 0.65503644454293, 0.980007719947025, 0.103912093210965, 0.237788028782234, 0.368279559770599, 0.919687205459923, 0.626287025166675, 0.00334088620729744, 0.466797937173396, 0.00155471637845039, 0.813794272020459, 0.547792625147849, 0.699565692571923, 0.481883036438376, 0.0267133840825409, 0.814918065210804, 0.376961374888197, 0.11108954413794, 0.21864964440465, 0.00322394841350615, 0.487204723758623, 0.950673197163269, 0.450600909767672, 0.368858634959906, 0.64895549044013, 0.134308400796726, 0.524068708531559, 0.500364334089682, 0.230793949682266, 0.222789312945679, 0.256933931959793, 0.679828861728311, 0.763647854793817, 0.0168193571735173, 0.591906732646748, 0.240616287104785, 0.677753732306883, 0.189666215563193, 0.63049884326756, 0.414147800533101, 0.0174633653368801, 0.0316577835474163, 0.244162477785721, 0.879273897269741, 0.706587924389169, 0.109976788982749, 0.143806165317073, 0.365937842288986, 0.179820423247293, 0.337432098807767, 0.0357328781392425, 0.481941773556173, 0.330057355109602, 0.82678541704081, 0.935306368162856, 0.544700981117785, 0.324658941011876, 0.335336431395262, 0.0440513412468135, 0.304852092405781, 0.974583722651005, 0.637072238139808, 0.697033180855215, 0.907497586449608, 0.241607334697619, 0.359859659336507, 0.561584035400301, 0.788005906855687, 0.967637615278363, 0.31610309286043, 0.645749165676534, 0.857421184657142, 0.181983921909705, 0.218990394379944, 0.659688238054514, 0.665100275306031, 0.311206744750962, 0.401335887610912, 0.838033503387123, 0.64221468870528, 0.475287752458826, 0.95993111981079, 0.816677605267614, 0.611410824581981, 0.527484963415191, 0.093052925541997, 0.228019905276597, 0.741014804458246, 0.363642424112186, 0.329093217849731, 0.784955176059157, 0.739446294726804, 0.12242764281109, 0.166929015889764, 0.383049880620092, 0.503938077716157, 0.396687619853765, 0.810735842911527, 0.157658712007105, 0.679148160852492, 0.131622381042689, 0.0816392377018929, 0.0131484810262918, 0.785636824322864, 0.515979004325345, 0.00184734142385423, 0.575115829473361, 0.239305870141834, 0.127652660710737, 0.201811909908429, 0.747888197656721, 0.649091357598081, 0.0140881391707808, 0.81942794052884, 0.720169110456482, 0.375381832476705, 0.705111734336242, 0.675990406656638, 0.694971723947674, 0.524571916088462, 0.589498574147001, 0.20733150257729, 0.991089516552165, 0.297389477025717, 0.929485496599227, 0.305336472345516, 0.315268071368337, 0.462520074797794, 0.289294531336054, 0.92322955885902, 0.27997627761215, 0.967741451691836, 0.881096740718931, 0.469230524031445, 0.353446677094325, 0.759410415543243, 0.952351401792839, 0.842010132968426, 0.276892633643001, 0.54436940443702, 0.128802586114034, 0.391485418425873, 0.140497393207625, 0.557394205592573, 0.194235966308042, 0.198206116678193, 0.802641921676695, 0.461838788585737, 0.113361473428085, 0.408224557992071, 0.95063056377694, 0.6222158302553, 0.041044675046578, 0.61539782397449, 0.102906636893749, 0.974055419908836, 0.636451841099188, 0.605026124510914, 0.128011289052665, 0.211933475919068, 0.847832399653271, 0.559887901414186, 0.232350819278508, 0.276958681410179, 0.939153886167333, 0.914451426360756, 0.172223919769749, 0.304323440417647, 0.852028564084321, 0.387737488374114, 0.587744337273762, 0.0327130488585681, 0.722801458789036, 0.00722368294373155, 0.981506110634655, 0.398109995061532, 0.268171156523749, 0.483290647855029, 0.394514889689162, 0.0606187807861716, 0.921435126336291, 0.588043301831931, 0.0531887619290501, 0.119645271683112, 0.211391318123788, 0.602471439400688, 0.611196880927309, 0.302067899145186, 0.582242348231375, 0.498249751515687, 0.497107754694298, 0.195798783330247, 0.128127980977297, 0.297730672173202, 0.619278249097988, 0.762140331091359, 0.0197520707733929, 0.680727231083438, 0.0461473339237273, 0.02748031495139, 0.557813110295683, 0.0650003999471664, 0.969874093076214, 0.896219456102699, 0.826406176900491, 0.358689360553399, 0.828840044792742, 0.251858323346823, 0.185501264873892, 0.953875578707084, 0.709233148721978, 0.844577039359137, 0.10466258879751, 0.0428387890569866, 0.596500637708232, 0.944069133605808, 0.145262862788513, 0.699413341470063, 0.21950159384869, 0.737362463260069, 0.784643889870495, 0.902058119885623, 0.562431160826236, 0.235883749090135, 0.237868889002129, 0.326754614943638, 0.649111558683217, 0.234422645065933, 0.794074372854084, 0.245249635074288, 0.590976134873927, 0.809522017138079, 0.376354381907731, 0.869443544885144, 0.235328375827521, 0.00129734794609249, 0.0237289930228144, 0.617517925100401, 0.416628235252574, 0.871518867556006, 0.317688801325858, 0.361938014393672, 0.892962678801268, 0.1647067531012, 0.957129367627203, 0.078344915760681, 0.00929315900430083, 0.538202265743166, 0.165253954706714, 0.197630131151527, 0.365162718575448, 0.746670715045184, 0.172581570921466, 0.91637675371021, 0.331870189635083, 0.413952780421823, 0.337743179872632, 0.436183703131974, 0.409411025466397, 0.55387014336884, 0.0207647266797721, 0.864758626790717, 0.779582536313683, 0.323889766121283, 0.0544208188075572, 0.646732003428042, 0.308226683409885, 0.804763603024185, 0.132256815209985, 0.247451985487714, 0.182708114385605, 0.149943006923422, 0.277119837235659, 0.876108958153054, 0.208422512514517, 0.281711334595457, 0.909473015461117, 0.812416759086773, 0.895367488497868, 0.373765517724678, 0.284436122747138, 0.692322497721761, 0.957813584245741, 0.476066249422729, 0.708718988345936, 0.623981182230636, 0.453431631671265, 0.865604013670236, 0.859423416899517, 0.00448834267444909, 0.365704084280878, 0.810344394762069, 0.916447379160672, 0.711429026443511, 0.921466063009575, 0.228771226480603, 0.867234792560339, 0.835868165595457, 0.687988713383675, 0.888994804350659, 0.773283885559067, 0.921753329923376, 0.250057416968048, 0.636075793998316, 0.47129923873581, 0.83358916407451, 0.97163071599789, 0.508241068106145, 0.0641314496751875, 0.141346796648577, 0.832384661072865, 0.08396165096201, 0.0583225714508444, 0.28359288466163, 0.0535931224003434, 0.643767728004605, 0.347581970272586, 0.255448250798509, 0.885487397667021, 0.909206732409075, 0.550446467241272, 0.93045211955905, 0.769934290554374, 0.0270198110956699, 0.354123316705227, 0.57481394498609, 0.462815896607935, 0.913548060692847, 0.571712597506121, 0.216643680818379, 0.445239769760519, 0.159452963620424, 0.459541254211217, 0.404498036019504, 0.511711486848071, 0.642774398671463, 0.123240596614778, 0.130534504540265, 0.153921969234943, 0.347304394934326, 0.0335313458926976, 0.000419131712988019, 0.558423767099157, 0.055968772387132, 0.369196948129684, 0.0960988402366638, 0.078583586262539, 0.632422037888318, 0.416438422165811, 0.277997791301459, 0.896163797471672, 0.759661737130955, 0.879400670994073, 0.81558301881887, 0.978478447534144, 0.633229720639065, 0.552856878144667, 0.552029774524271, 0.71920648124069, 0.752862520283088, 0.317338828928769, 0.48870195238851, 0.580525496276096, 0.902165036881343, 0.792707080952823, 0.0843767013866454, 0.41861638892442, 0.460096332244575, 0.532017751596868, 0.441243905341253, 0.324434428010136, 0.74021547823213, 0.635124762076885, 0.132927090860903, 0.0764825772494078, 0.442883474985138, 0.714173488551751, 0.242636510869488, 0.410908399848267, 0.27370405732654, 0.391973795834929, 0.81019460526295, 0.825013539288193, 0.388720708200708, 0.166255521820858, 0.192936934065074, 0.510234539629892, 0.755116594489664, 0.237507647601888, 0.449729148065671, 0.897339351242408, 0.335700596915558, 0.491084365639836, 0.251071201870218, 0.429447127971798, 0.809764434816316, 0.494285825872794, 0.861742960754782, 0.17528489115648, 0.146946954075247, 0.54810459446162, 0.00938930734992027, 0.875005199806765, 0.23386368737556, 0.981071128044277, 0.496113028144464, 0.834751267218962, 0.176717161666602, 0.10674896184355, 0.808243364561349, 0.156850370578468, 0.139577077468857, 0.0909981967415661, 0.199227578472346, 0.948827551444992, 0.295091854874045, 0.54490161780268, 0.197831262368709, 0.66919441265054, 0.661112012108788, 0.257103624986485, 0.409990339539945, 0.139906966360286, 0.861149697331712, 0.177001884207129, 0.713746966794133, 0.706120525486767, 0.921227670973167, 0.178426629398018, 0.275164897786453, 0.120316843967885, 0.747703403700143, 0.887343886774033, 0.549900442827493, 0.389362409478053, 0.240230002673343, 0.601728049805388, 0.947318224003538, 0.794838840141892, 0.415898304898292, 0.648413478862494, 0.563274742802605, 0.901542387669906, 0.0360493876505643, 0.249290818348527, 0.492561691440642, 0.241274718660861, 0.853701853426173, 0.140298493904993, 0.161618456244469, 0.429702485213056, 0.0718391537666321, 0.204771675635129, 0.62699426477775, 0.570953494636342, 0.929208994843066, 0.865223094355315, 0.70221068081446, 0.582530020270497, 0.866239274851978, 0.2110294487793, 0.369932467583567, 0.100209518801421, 0.841811645543203, 0.18408944667317), actual = c(1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1), nmb = c(TP = -3, TN = 0, FP = -1, FN = -4)): could not find function \"fx_roc01\"  # get a combination of cutpoints from both user-defined functions and inbuilt methods get_thresholds(   predicted = runif(1000),   actual = sample(c(0, 1), size = 1000, replace = TRUE),   cutpoint_methods = c(\"fx_roc01\", \"fx_sum_sens_spec\", \"youden\", \"all\", \"none\"),   nmb = c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4) ) #> Error in fx_roc01(predicted = c(0.753111309371889, 0.426955783739686, 0.886266660410911, 0.542354721110314, 0.120731743285432, 0.696276759728789, 0.413429680513218, 0.23223391501233, 0.580576977692544, 0.743332503130659, 0.270474427845329, 0.151696973945946, 0.210692339809611, 0.624426109716296, 0.269250140991062, 0.373595011886209, 0.358468370279297, 0.0141798011027277, 0.484166555339471, 0.31155279930681, 0.606781027046964, 0.265467431861907, 0.197744659846649, 0.827258562436327, 0.846292253118008, 0.0899460497312248, 0.126113407313824, 0.370590540580451, 0.53636338096112, 0.397662077331915, 0.554434473859146, 0.135241969488561, 0.373630827991292, 0.141850732732564, 0.0129547668620944, 0.695450210012496, 0.465177545323968, 0.96068599796854, 0.762290904065594, 0.480410910909995, 0.0794812147505581, 0.0350663890130818, 0.284191936254501, 0.859791457187384, 0.581690369406715, 0.673602275084704, 0.506328780436888, 0.190883120754734, 0.207038959255442, 0.170436095446348, 0.406942927045748, 0.548887266078964, 0.563867697259411, 0.300369844539091, 0.130858489545062, 0.205477887764573, 0.146802455186844, 0.815316364634782, 0.491845088312402, 0.363726952578872, 0.797086354577914, 0.10144779086113, 0.847968841670081, 0.452019618358463, 0.705436627846211, 0.434451600303873, 0.257466302253306, 0.887643772410229, 0.602713758358732, 0.808383995201439, 0.935328613966703, 0.547048019245267, 0.213707619346678, 0.128069904632866, 0.83655092632398, 0.170539660844952, 0.240791833028197, 0.965388159034774, 0.00620329193770885, 0.299691292690113, 0.247234497917816, 0.329974572407082, 0.301788252778351, 0.899536757031456, 0.316795316059142, 0.853382703382522, 0.548884743824601, 0.489702421007678, 0.915474578505382, 0.313257201807573, 0.877179905306548, 0.256455697352067, 0.3496659679804, 0.0109492358751595, 0.92875236296095, 0.810304120182991, 0.229537894017994, 0.622238992713392, 0.102914737304673, 0.481987397652119, 0.384367554215714, 0.404069124953821, 0.430986242834479, 0.225518316728994, 0.305626325309277, 0.305465438403189, 0.519437328679487, 0.489846222801134, 0.612293393816799, 0.782230884768069, 0.296835748013109, 0.507111892104149, 0.0417271631304175, 0.70267377817072, 0.77517133555375, 0.948010767577216, 0.764760515652597, 0.0921601234003901, 0.997228292981163, 0.712635493604466, 0.748306484660134, 0.113956260727718, 0.720465518767014, 0.968604220775887, 0.473556093871593, 0.693897425895557, 0.601737757446244, 0.165545720141381, 0.646553051425144, 0.515815901337191, 0.744138343259692, 0.501931089442223, 0.638171136612073, 0.876429608790204, 0.670939564239234, 0.0181666542775929, 0.654423014260828, 0.0373071348294616, 0.355829359730706, 0.219250824768096, 0.940091698430479, 0.278707208577543, 0.786129979416728, 0.526319748256356, 0.48770463373512, 0.624804664868861, 0.522269481560215, 0.190797158051282, 0.608164369128644, 0.381024670321494, 0.24822073802352, 0.183475178666413, 0.847529097925872, 0.138049018802121, 0.106455616420135, 0.57252238295041, 0.755676982458681, 0.323477909900248, 0.57833749987185, 0.786978555610403, 0.378653750289232, 0.457106775371358, 0.344771432224661, 0.897134334314615, 0.990685869241133, 0.162478718208149, 0.149886040715501, 0.0777581126894802, 0.814571852097288, 0.551856358069927, 0.268841036129743, 0.357588182669133, 0.146908485330641, 0.455219916533679, 0.982962525915354, 0.622327459044755, 0.530223079258576, 0.0650211917236447, 0.643360721180215, 0.514771567191929, 0.868512168992311, 0.761428378522396, 0.349313073791564, 0.0553237453568727, 0.031833030981943, 0.271753839449957, 0.0507153868675232, 0.873407974373549, 0.676710067084059, 0.392090521752834, 0.0341083763632923, 0.082981871208176, 0.13937900820747, 0.641397284576669, 0.931978330248967, 0.420718523906544, 0.23939130268991, 0.201950060203671, 0.234982082154602, 0.279994347831234, 0.904334648279473, 0.488661215640604, 0.337626857450232, 0.631225317250937, 0.992276510456577, 0.193895776756108, 0.954661003546789, 0.164284768048674, 0.916917006950825, 0.500501825241372, 0.0745006413199008, 0.677520510740578, 0.772537431214005, 0.467283423990011, 0.742030302528292, 0.0892264156136662, 0.855125074042007, 0.25431782216765, 0.399687124416232, 0.387250771513209, 0.704976642504334, 0.258719560923055, 0.257781690452248, 0.735019294312224, 0.207836288725957, 0.007960265269503, 0.756000594934449, 0.63583159330301, 0.748185029253364, 0.432288771960884, 0.0744327278807759, 0.452746408060193, 0.189647246617824, 0.354549394687638, 0.867944197263569, 0.387083651265129, 0.609845089027658, 0.849563559750095, 0.364866836927831, 0.326861002715304, 0.171934793470427, 0.429642082890496, 0.372791573172435, 0.581560743972659, 0.210282222600654, 0.742040599230677, 0.968687835847959, 0.690942778717726, 0.693576862104237, 0.160300598945469, 0.0612059973645955, 0.208196519874036, 0.822538363281637, 0.746259142179042, 0.983599886065349, 0.948012468637899, 0.166288636391982, 0.622973300749436, 0.545423872536048, 0.577959035057575, 0.917374707292765, 0.306141706183553, 0.0965105199720711, 0.826457537012175, 0.44056759448722, 0.507602393394336, 0.233559022191912, 0.567582451971248, 0.816199665889144, 0.218983282567933, 0.989207210484892, 0.217246802756563, 0.88025560346432, 0.236034867120907, 0.938328989082947, 0.914114638464525, 0.388098625931889, 0.426053362200037, 0.888403868768364, 0.314658461837098, 0.952424164395779, 0.263472062302753, 0.561215680092573, 0.251945142867044, 0.145056567154825, 0.179082859540358, 0.998415217036381, 0.842907880200073, 0.645378873683512, 0.532514120219275, 0.261198967229575, 0.358125362079591, 0.542708126595244, 0.551387265091762, 0.891445158282295, 0.23482986423187, 0.98149313707836, 0.782285226974636, 0.964086720254272, 0.000307806534692645, 0.0132386025507003, 0.858556215418503, 0.219213948585093, 0.855456526158378, 0.67101002833806, 0.0773957401979715, 0.242176707368344, 0.075548552442342, 0.524133894825354, 0.190367663046345, 0.539071781095117, 0.553983404068276, 0.810606800019741, 0.646230530226603, 0.055133156478405, 0.300545804901049, 0.202899700729176, 0.600499526597559, 0.450614800909534, 0.687673972919583, 0.0351102920249104, 0.871766331372783, 0.695913642644882, 0.36884240154177, 0.175408779177815, 0.444938522065058, 0.548841228242964, 0.772344477009028, 0.106259088497609, 0.146225565578789, 0.333449440775439, 0.194991595810279, 0.0758859231136739, 0.481530228629708, 0.743877538014203, 0.439619606127962, 0.851541214622557, 0.452317490242422, 0.126909692538902, 0.0400462704710662, 0.630644130287692, 0.80650344141759, 0.597145967651159, 0.0862006167881191, 0.68465695832856, 0.908439997350797, 0.165839767316356, 0.241438763681799, 0.0528327543288469, 0.167381652398035, 0.241036963183433, 0.590150585398078, 0.583610532106832, 0.331981252878904, 0.171295954845846, 0.294395548291504, 0.539948726538569, 0.33875881251879, 0.725506422575563, 0.527365887770429, 0.485101060708985, 0.745587545912713, 0.801477739587426, 0.899940795265138, 0.416004579514265, 0.283927674405277, 0.595020582200959, 0.326601690612733, 0.00895106582902372, 0.954457409214228, 0.665307628922164, 0.620261758100241, 0.956815309356898, 0.0439811346586794, 0.930235211737454, 0.611835613846779, 0.0847438105847687, 0.885129156988114, 0.329569674562663, 0.70685385260731, 0.0658723113592714, 0.16376829543151, 0.678910573245957, 0.256687378976494, 0.135345384012908, 0.495686729205772, 0.633222135016695, 0.076057915808633, 0.937047231476754, 0.733921116916463, 0.678249506512657, 0.255807663081214, 0.838955779094249, 0.753171676304191, 0.714954071445391, 0.574276468250901, 0.956370478495955, 0.437834894284606, 0.434203859651461, 0.38603982469067, 0.986226864624768, 0.361179173691198, 0.467191172996536, 0.229696701280773, 0.372188826324418, 0.372311809565872, 0.554780600126833, 0.572922097053379, 0.678445992991328, 0.843383841682225, 0.305603012442589, 0.026196621125564, 0.594751936150715, 0.00639449874870479, 0.790789800928906, 0.756499938666821, 0.455421146471053, 0.909595015691593, 0.793466369155794, 0.866474291309714, 0.338259622221813, 0.407279167789966, 0.639377466170117, 0.590579090407118, 0.810631481930614, 0.990150745492429, 0.651032972382382, 0.420956058194861, 0.46249248390086, 0.0427581872791052, 0.251260238699615, 0.221615288639441, 0.298320067580789, 0.939509337535128, 0.147508375812322, 0.295627238461748, 0.0820467160083354, 0.258777967886999, 0.274115119827911, 0.770630250684917, 0.142910729395226, 0.0320934078190476, 0.759117812151089, 0.760212678229436, 0.459050290752202, 0.37808828195557, 0.142034448916093, 0.0622371796052903, 0.882438836852089, 0.198991113575175, 0.329214355209842, 0.260571649298072, 0.631941033760086, 0.751920843031257, 0.830033339560032, 0.0179395515006036, 0.158353850245476, 0.309547875309363, 0.142107222694904, 0.908637608168647, 0.876392300706357, 0.613523582462221, 0.363265746738762, 0.797266212059185, 0.0836760431993753, 0.679836039198563, 0.413545276736841, 0.19027702184394, 0.596796744503081, 0.767951304325834, 0.918917004950345, 0.847999651217833, 0.665471703512594, 0.119886630680412, 0.684921780135483, 0.669979290338233, 0.414617978734896, 0.886763638351113, 0.305394130060449, 0.731655600713566, 0.536018246551976, 0.952887675957754, 0.776153987273574, 0.752078419551253, 0.664990476099774, 0.227207499323413, 0.309335155179724, 0.860326565802097, 0.961959646316245, 0.0467120734974742, 0.379452615743503, 0.880731895798817, 0.812450372381136, 0.276354736182839, 0.724538456648588, 0.642139136791229, 0.223291539121419, 0.0456920003052801, 0.231387894367799, 0.974920934531838, 0.0357394877355546, 0.959357284940779, 0.83001904678531, 0.285540010547265, 0.666069282451645, 0.806546870619059, 0.670065682148561, 0.491566632641479, 0.956923387944698, 0.712854207726195, 0.529324213275686, 0.415612095734105, 0.704859375488013, 0.0489884249400347, 0.970550834666938, 0.571736170211807, 0.633082176093012, 0.237406380241737, 0.979082149453461, 0.716465085046366, 0.707229946972802, 0.314091864973307, 0.221484858542681, 0.0198659040033817, 0.471776365069672, 0.620416215155274, 0.108839468332008, 0.159529010532424, 0.0279418386053294, 0.423473251052201, 0.899735807441175, 0.340547845466062, 0.532318401848897, 0.468016313854605, 0.271036769961938, 0.647301560500637, 0.801607557339594, 0.0273010416422039, 0.452094811946154, 0.478209117194638, 0.395716782193631, 0.644650359405205, 0.077001056401059, 0.674050119239837, 0.339041563915089, 0.287586601218209, 0.392958419863135, 0.769339153543115, 0.165202936390415, 0.876804104773328, 0.327266992302611, 0.248637827811763, 0.906722868327051, 0.0428120808210224, 0.261776940431446, 0.306796912802383, 0.51849906751886, 0.421068809460849, 0.949281660141423, 0.597080630250275, 0.157723419368267, 0.645403356291354, 0.823515802621841, 0.175761567661539, 0.0187368150800467, 0.682711858069524, 0.580447034910321, 0.819504429819062, 0.240907510509714, 0.254604123067111, 0.804658623645082, 0.0968908020295203, 0.825611088424921, 0.0421425821259618, 0.749129920266569, 0.641531503060833, 0.595555542036891, 0.0973657213617116, 0.75610677478835, 0.0566404613200575, 0.293389124562964, 0.398556679021567, 0.0611642634030432, 0.673564000288025, 0.000886332942172885, 0.131231546401978, 0.859632302541286, 0.724519215058535, 0.737710972549394, 0.391163373365998, 0.975313768256456, 0.374417666345835, 0.374587714672089, 0.200573332607746, 0.499308404978365, 0.957536989590153, 0.00556503795087337, 0.283327652607113, 0.877853964921087, 0.118410389171913, 0.997522507095709, 0.822335608769208, 0.389073977945372, 0.571730540134013, 0.477439288981259, 0.255575907183811, 0.990143280709162, 0.938316159183159, 0.617605709237978, 0.139160403748974, 0.510361657245085, 0.783446778776124, 0.280619849916548, 0.724823234137148, 0.29424648382701, 0.565194244962186, 0.760208370862529, 0.58569532353431, 0.395219132769853, 0.285806220024824, 0.161031260853633, 0.155880784383044, 0.941418138798326, 0.788571001030505, 0.0501661573071033, 0.889504168182611, 0.554496987257153, 0.0674005870241672, 0.15525488415733, 0.487621744628996, 0.558706029783934, 0.121986594051123, 0.0663362874183804, 0.832477416144684, 0.721522400155663, 0.560855759540573, 0.411312677897513, 0.347045126371086, 0.537757513811812, 0.816262708278373, 0.760544616961852, 0.795301865786314, 0.275306560564786, 0.460148357553408, 0.259442159440368, 0.247785377316177, 0.958561245119199, 0.189939816482365, 0.597798811038956, 0.720030610449612, 0.674005256034434, 0.66557297273539, 0.175481079611927, 0.430377896409482, 0.817658625077456, 0.909256895305589, 0.467000915668905, 0.181180333020166, 0.456122904317454, 0.407483088318259, 0.948718190658838, 0.66874540806748, 0.542394147254527, 0.277835888788104, 0.612387198256329, 0.421351760160178, 0.81219139508903, 0.50652237306349, 0.54654406523332, 0.974361022002995, 0.428114159265533, 0.15812905644998, 0.519606909016147, 0.399699186440557, 0.0180142377503216, 0.234243103535846, 0.880527777364478, 0.644759667571634, 0.656288508791476, 0.351897030835971, 0.0298984458204359, 0.980316153494641, 0.481341920793056, 0.0341969232540578, 0.801547118462622, 0.379635520046577, 0.418463533744216, 0.0971819024998695, 0.0771422111429274, 0.964764025295153, 0.235358800040558, 0.584144460037351, 0.0868403005879372, 0.542637474136427, 0.678829595912248, 0.317184400744736, 0.022335589164868, 0.270126855932176, 0.604839237639681, 0.0372685077600181, 0.590925463242456, 0.40046585095115, 0.850091357482597, 0.393503631465137, 0.350675104884431, 0.894931748276576, 0.584447370143607, 0.625920919002965, 0.256337044760585, 0.132752472069114, 0.629420607350767, 0.74873834149912, 0.865892438683659, 0.952679547714069, 0.104645382612944, 0.545417977496982, 0.998714885441586, 0.956592812668532, 0.0544839608483016, 0.924728619167581, 0.585228403564543, 0.820174050051719, 0.274258743505925, 0.974045876180753, 0.443593895295635, 0.472235664492473, 0.645954122534022, 0.479831924894825, 0.213453886564821, 0.549688477767631, 0.708839277038351, 0.798529093619436, 0.804215845884755, 0.716027504298836, 0.59196489257738, 0.856566699687392, 0.554700837936252, 0.120198756689206, 0.550556430593133, 0.305193572305143, 0.852734330808744, 0.502757404465228, 0.53114302828908, 0.994309767382219, 0.789732688805088, 0.926751883001998, 0.0425709011033177, 0.745216904440895, 0.491474135778844, 0.0190177953336388, 0.436730117537081, 0.949060564627871, 0.313879003049806, 0.308626212412491, 0.526374403154477, 0.232266142033041, 0.428872969700024, 0.00523568573407829, 0.561482087243348, 0.464498771121725, 0.122387346578762, 0.0220721936784685, 0.614443291677162, 0.504265964031219, 0.780903226463124, 0.962300582556054, 0.867690037703142, 0.153523549903184, 0.146987446583807, 0.572751914151013, 0.280853219795972, 0.900922288652509, 0.978325701551512, 0.984694371232763, 0.579360025934875, 0.253836241550744, 0.446986447321251, 0.736379584763199, 0.715230384841561, 0.881937625119463, 0.126331319101155, 0.110947328153998, 0.0153175885789096, 0.013512765057385, 0.471322559285909, 0.800435506505892, 0.894663124578074, 0.675675845937803, 0.847792294807732, 0.943358219461516, 0.372796165524051, 0.189815409947187, 0.670490195509046, 0.908504964783788, 0.527717787306756, 0.725004068342969, 0.925103460904211, 0.433510240865871, 0.597414395771921, 0.211970059201121, 0.653010791866109, 0.684300866909325, 0.387906646123156, 0.242668688297272, 0.643625861499459, 0.835764549905434, 0.23111636354588, 0.55235452670604, 0.766946926480159, 0.824990910943598, 0.753858862677589, 0.266598025104031, 0.961724377935752, 0.98718559066765, 0.329336693277583, 0.0762300740461797, 0.518363710027188, 0.972563321702182, 0.697730524465442, 0.265878027305007, 0.821057254448533, 0.28795998939313, 0.0657786568626761, 0.593724360689521, 0.122285875026137, 0.787884595571086, 0.253546418389305, 0.262959301006049, 0.0949350164737552, 0.088641882641241, 0.282440218375996, 0.993913072859868, 0.810647463658825, 0.844060280593112, 0.951381466118619, 0.643216556403786, 0.400521227624267, 0.687783734174445, 0.735465307021514, 0.244384978665039, 0.687011899892241, 0.120844580465928, 0.40764604927972, 0.134449885226786, 0.47555558825843, 0.372791523346677, 0.141561553347856, 0.489360773935914, 0.146294292295352, 0.583295522490516, 0.75138402194716, 0.595078038051724, 0.003177335485816, 0.614109015325084, 0.641061632428318, 0.933543969411403, 0.370448344387114, 0.79627222684212, 0.577861602650955, 0.223501513944939, 0.108645192580298, 0.010215375572443, 0.975070585729554, 0.102506214054301, 0.574937063734978, 0.699513592291623, 0.41999045596458, 0.0773030440323055, 0.596297156997025, 0.873115221969783, 0.222039976622909, 0.432817987399176, 0.260759198339656, 0.00141462171450257, 0.261215990874916, 0.221390176564455, 0.4022097280249, 0.18125038431026, 0.676100654061884, 0.77889012824744, 0.257085362216458, 0.362782449927181, 0.167771273758262, 0.995782908285037, 0.937846991699189, 0.850957410177216, 0.551506811985746, 0.416198661318049, 0.422391558997333, 0.379864221438766, 0.298282754840329, 0.29972273320891, 0.377574235433713, 0.511161394184455, 0.672799650812522, 0.496131253661588, 0.252992511494085, 0.689563550287858, 0.438970761140808, 0.667982849758118, 0.00380614260211587, 0.61199815175496, 0.660189553396776, 0.133989718509838, 0.895857473602518, 0.344285322120413, 0.945075214607641, 0.811209300067276, 0.253771275514737, 0.780001734849066, 0.103892655111849, 0.887354382779449, 0.61520968307741, 0.231763281160966, 0.240919106639922, 0.0775808834005147, 0.498233055463061, 0.913336230907589, 0.326930606737733, 0.426540121203288, 0.141504063270986, 0.515989704988897, 0.648132851580158, 0.422468569595367, 0.886438166489825, 0.604310034075752, 0.780992281623185, 0.679164358181879, 0.198721585329622, 0.0322810348588973, 0.118865015450865, 0.854357878211886, 0.689338611904532, 0.021220664260909, 0.602177403401583, 0.632152239326388, 0.808782377745956, 0.73403197247535, 0.656491572968662, 0.47908575902693, 0.128536870935932, 0.54942315351218, 0.348741673864424, 0.431755823316053, 0.839278703788295, 0.146048057358712, 0.663212704006582, 0.911621472565457, 0.115800783503801, 0.512491379864514, 0.586039969930425, 0.240038327407092, 0.587540405569598, 0.474024448776618, 0.876985921990126, 0.699697432573885, 0.0886751944199204, 0.319694406585768, 0.711238569114357, 0.925175440963358, 0.995191981550306, 0.940290314843878, 0.61011921800673, 0.804430765565485, 0.864372825017199, 0.516006899997592, 0.942869949620217, 0.919262602459639, 0.756952736759558, 0.278509182389826, 0.307619419647381, 0.40748046641238, 0.223944341065362, 0.901695109438151, 0.470146361738443, 0.860691473353654, 0.809643373126164, 0.569591963198036, 0.406909335637465, 0.974144138395786, 0.0532477919477969, 0.300880997208878, 0.991292686201632, 0.902004112489522, 0.545507474569604, 0.596869060304016, 0.706497114384547, 0.825190035393462, 0.99068519892171, 0.981480254093185, 0.387210725108162, 0.0308926478028297, 0.356193418148905, 0.752863909117877, 0.291336155263707, 0.184445699909702, 0.92739969282411, 0.205004307208583, 0.358918320853263, 0.333384033991024), actual = c(0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0), nmb = c(TP = -3, TN = 0, FP = -1, FN = -4)): could not find function \"fx_roc01\""},{"path":"https://rwparsons.github.io/predictNMB/reference/make_summary_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Create table summaries of simulation objects. — make_summary_table","title":"Create table summaries of simulation objects. — make_summary_table","text":"Create table summaries simulation objects.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/make_summary_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create table summaries of simulation objects. — make_summary_table","text":"","code":"make_summary_table(   x,   what = c(\"nmb\", \"inb\", \"cutpoints\"),   inb_ref_col = NULL,   agg_functions = list(median = stats::median, `95% CI` = function(x)     paste0(signif(stats::quantile(x, probs = c(0.025, 0.975)), digits = 2), collapse =     \" to \")),   rename_vector = c(),   ... )"},{"path":"https://rwparsons.github.io/predictNMB/reference/make_summary_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create table summaries of simulation objects. — make_summary_table","text":"x predictNMBscreen predictNMBsim object summarise: one \"nmb\", \"inb\" \"cutpoints\". Defaults \"nmb\". See `details` . inb_ref_col cutpoint method use reference strategy calculating incremental net monetary benefit. See do_nmb_sim information. agg_functions named list functions use aggregate selected values. Defaults median 95% interval. rename_vector named vector renaming methods summary. values vector default names names given desired names output. ... additional, optional arguments.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/make_summary_table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create table summaries of simulation objects. — make_summary_table","text":"Table summaries based `` argument. Using \"nmb\" returns simulated values NMB, reference group; \"inb\" returns difference simulated values NMB set strategy defined `inb_ref_col`; \"cutpoints\" returns cutpoints selected (0,1).","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/make_summary_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create table summaries of simulation objects. — make_summary_table","text":"","code":"# perform screen with increasing values of model discimination (sim_auc) if (FALSE) {   get_nmb <- function() c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4)   sim_screen_obj <- screen_simulation_inputs(     n_sims = 50, n_valid = 10000, sim_auc = seq(0.7, 0.9, 0.1), event_rate = 0.1,     fx_nmb_training = get_nmb, fx_nmb_evaluation = get_nmb   )   make_summary_table(sim_screen_obj)   make_summary_table(sim_screen_obj$simulations[[1]]) }"},{"path":"https://rwparsons.github.io/predictNMB/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rwparsons.github.io/predictNMB/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/screen_simulation_inputs.html","id":null,"dir":"Reference","previous_headings":"","what":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","title":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","text":"See do_nmb_sim() information.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/screen_simulation_inputs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","text":"","code":"screen_simulation_inputs(   sample_size,   n_sims,   n_valid,   sim_auc,   event_rate,   cutpoint_methods = get_inbuilt_cutpoint(return_all_methods = TRUE),   fx_nmb_training,   fx_nmb_evaluation,   pair_nmb_train_and_evaluation_functions = FALSE,   meet_min_events = TRUE,   min_events = NA,   cl = NULL )"},{"path":"https://rwparsons.github.io/predictNMB/reference/screen_simulation_inputs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","text":"sample_size value (vector values): Sample size training set. missing, sample size calculation performed calculated size used. n_sims value (vector values): Number simulations run. n_valid value (vector values): Sample size evaluation set. sim_auc value (vector values): Simulated model discrimination (AUC). event_rate value (vector values): simulated event rate binary outcome predicted. cutpoint_methods cutpoint methods include. Defaults use inbuilt methods. change across calls do_nmb_sim() fx_nmb_training function (list functions) returns named vector NMB assigned classifications use obtaining cutpoint training set fx_nmb_evaluation function (list functions) returns named vector NMB assigned classifications use obtaining cutpoint evaluation set pair_nmb_train_and_evaluation_functions Logical. Whether pair lists functions passed fx_nmb_training fx_nmb_evaluation. two treatment strategies used, may make sense pair selecting value-optimising cost-minimising threshold using one strategy evaluating another likely unwanted. meet_min_events Whether incrementally add samples expected number events (sample_size * event_rate) met. (Applies sampling training data .) min_events value: minimum number events include training sample. less number included sample size sample_size, additional samples added min_events met. default (NA) use expected value given event_rate sample_size. cl cluster made using parallel::makeCluster(). cluster provided, simulation done parallel.","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/screen_simulation_inputs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","text":"predictNMBscreen","code":""},{"path":"https://rwparsons.github.io/predictNMB/reference/screen_simulation_inputs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Screen many simulation inputs: a parent function to do_nmb_sim() — screen_simulation_inputs","text":"","code":"# Screen for optimal cutpoints given increasing values of model discrimination (sim_auc) if (FALSE) {   get_nmb <- function() c(\"TP\" = -3, \"TN\" = 0, \"FP\" = -1, \"FN\" = -4)   sim_screen_obj <- screen_simulation_inputs(     n_sims = 50, n_valid = 10000, sim_auc = seq(0.7, 0.9, 0.1), event_rate = 0.1,     fx_nmb_training = get_nmb, fx_nmb_evaluation = get_nmb   ) }"}]
